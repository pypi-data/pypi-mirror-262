# Реализация CLI утилит

## Утилита `nl`

### Описание

Утилита `nl.py` — скрипт, который выдает в `stdout` пронумерованные строки из файла.    
Если файл не передан, то скрипт читает строки из `stdin`.    
Скрипт нумерует **все строки** (так же, как `nl -b a`).

### Инструкция по запуску
1. Склонируйте репозиторий `git clone https://github.com/Mikhail-Repkin/advanced_python_ITMO.git`
2. Перейдем в папку `cd advanced_python_ITMO/HW_1`
3. Создаем виртуальное окружение и устанавливаем зависимости:  
   * `poetry install`    
     *или*
   * `python -m venv venv` --> `venv\Scripts\activate` --> `pip install -r requirements.txt`
4. Для нумерации строк из файла выполните следующую команду: `poetry run nl.py capitals.txt` или `python nl.py capitals.txt`
   
   ![alt text](artifacts/nl_with_file.png)

5. Для нумерации строк из `stdin` выполните следующую команду: `poetry run nl.py` или `python nl.py`. Затем введите необходимый текст и нажмите enter для нумерации. Продолжайте ввод текста сколько необходимо, затем нажмите `ctrl+z + enter` для завершения ввода и вывода результатов.

   ![alt text](artifacts/nl_with_stdin.png)


## Утилита `tail`

### Описание

Утилита `tail.py` — скрипт, выводящий в `stdout` последние 10 строк каждого из переданных файлов.    
Eсли передано больше одного файла, то перед обработкой очередного файла выводится его имя.    
Если не передано ни одного файла, то выводится последние 17 строк из `stdin`.

### Инструкция по запуску
1. Выполняем шаги 1-3 из раздела "[Утилита `nl`](https://github.com/Mikhail-Repkin/advanced_python_ITMO/tree/main/HW_1#инструкция-по-запуску)" для клонирования репозитория, создания виртуального окружения и установки зависимостей, или переходим к пунту 2.
2. Для вывода последних 10 строк из одного файла выполните следующую команду: `poetry run tail.py capitals.txt` или `python tail.py capitals.txt`
   
   ![alt text](artifacts/tail_one_file.png)

3. Для вывода последних 10 строк из нескольких файлов выполните следующую команду: `poetry run tail.py capitals.txt codes.txt` или `python tail.py capitals.txt codes.txt`
   
   ![alt text](artifacts/tail_files.png)

4. Для вывода последних 17 строк из `stdin` выполните следующую команду: `poetry run tail.py` или `python tail.py`. Затем вводите необходимый текст и нажмайте enter для перехода к следующей строке. Продолжайте ввод текста сколько необходимо, затем нажмите `ctrl+z + enter` для завершения ввода и вывода результатов.

   ![alt text](artifacts/tail_stdin.png)


## Утилита `wc`

### Описание

Утилита `wc` — скрипт для подсчета количества строк, слов и байтов в файле или в стандартном вводе.    
Если передано больше одного файла, то в конце утилита выводит суммарную статистику (total).    
Если ни одного файла не передано, то утилита считывает `stdin` и печатает для него статистику без имени.


### Инструкция по запуску
1. Выполняем шаги 1-3 из раздела "[Утилита `nl`](https://github.com/Mikhail-Repkin/advanced_python_ITMO/tree/main/HW_1#инструкция-по-запуску)" для клонирования репозитория, создания виртуального окружения и установки зависимостей, или переходим к пунту 2.
2. Для подсчета статистики в одном файле выполните следующую команду: `poetry run wc.py capitals.txt` или `python wc.py capitals.txt`

   ![alt text](artifacts/wc_one_file.png)

3. Для подсчета статистики в нескольких файлах выполните следующую команду: `poetry run wc.py capitals.txt codes.txt` или `python wc.py capitals.txt codes.txt`

   ![alt text](artifacts/wc_files.png)

4. Для подсчета статистики из `stdin` выполните следующую команду: `poetry run wc.py` или `python wc.py`. Затем вводите необходимый текст и нажмайте enter для перехода к следующей строке. Продолжайте ввод текста сколько необходимо, затем нажмите `ctrl+z + enter` для завершения ввода и вывода результатов.

   ![alt text](artifacts/wc_stdin.png)

# Структура проекта
```shell
HW_1
│   capitals.txt                                # Файл для теста работы утилит
│   codes.txt                                   # Файл для теста работы утилит
│   nl.py                                       # Утилита №1
│   poetry.lock                                 # Lock-файл для Poetry
│   pyproject.toml                              # Файл конфигурации Poetry
│   README.md                                   # Документация проекта
│   requirements.txt                            # Файл зависимостей Python
│   tail.py                                     # Утилита №2   
│   wc.py                                       # Утилита №3
└───artifacts                                   # Папка с артефактами
   ...
```

# Технологии

* Бэкенд: `python`, `click`
* Линтеры: `black`, `flake8`
* Зависимости: `poetry`