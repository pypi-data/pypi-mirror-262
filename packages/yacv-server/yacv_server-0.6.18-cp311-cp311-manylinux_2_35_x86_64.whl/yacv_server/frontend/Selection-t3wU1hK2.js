import{v as Z,I as se,x as ce,y as _t,z as De,A as at,B as le,C as nt,D as ot,E as it,G as J,H as B,J as Pe,K as Re,w as te,L as ne,k as a,V as $e,M as re,N as Le,O as Ie,P as Tt,Q as Ee,R as st,S as Me,T as At,U as ve,m as Y,W as pe,X as Lt,Y as Bt,Z as Ft,$ as Dt,a0 as ut,a1 as Rt,a2 as Et,a3 as Mt,a4 as rt,a5 as Ot,a6 as zt,a7 as jt,a8 as Ht,a9 as ct,aa as Nt,ab as be,ac as $t,ad as Ut,ae as xe,af as dt,ag as Kt,ah as vt,ai as fe,aj as Oe,F as Q,ak as Be,al as ft,am as qt,an as mt,ao as Gt,ap as gt,r as X,i as Fe,aq as Ue,ar as Wt,as as Xt,at as Ke,au as ze,av as ke,aw as Yt,ax as qe,ay as ht,az as Jt,aA as Zt,aB as Qt,aC as el,aD as tl,aE as ll,aF as yt,aG as al,aH as nl,aI as ol,aJ as il,aK as he,aL as sl,aM as ul,aN as rl,aO as cl,aP as dl,aQ as vl,aR as fl,aS as ml,aT as Ge,aU as gl,aV as hl,aW as We,aX as pt,aY as yl,aZ as pl,a_ as bl,a$ as xl,b0 as kl,o as Sl,b1 as Cl,b2 as wl,b3 as Vl,b4 as Il,b5 as Pl,f as ye,b6 as Xe,d as _l,b7 as Ye,b8 as Tl,a as Al,c as Ll,b as Bl,j as ie,u as j,b9 as ge,t as _e,ba as Ce,bb as Fl,bc as we,bd as Dl,be as Rl,bf as El,bg as Ml,bh as Ol,bi as Te,bj as zl,q as jl}from"./index-BAk1_KnI.js";import{bh as Hl,bi as Nl,bg as $l,bf as Je,k as ee,c as Ul,j as Kl,ba as ql,ac as Gl}from"./three.module-BAzWvjgQ.js";function Ze(e){const t=Math.abs(e);return Math.sign(e)*(t/((1/.501-2)*(1-t)+1))}function Qe(e){let{selectedElement:y,containerSize:t,contentSize:d,isRtl:n,currentScrollOffset:c,isHorizontal:r}=e;const s=r?y.clientWidth:y.clientHeight,l=r?y.offsetLeft:y.offsetTop,b=n&&r?d-l-s:l,C=t+c,g=s+b,h=s*.4;return b<=c?c=Math.max(b-h,0):C<=g&&(c=Math.min(c-(C-g-h),d-t)),c}function Wl(e){let{selectedElement:y,containerSize:t,contentSize:d,isRtl:n,isHorizontal:c}=e;const r=c?y.clientWidth:y.clientHeight,s=c?y.offsetLeft:y.offsetTop,l=n&&c?d-s-r/2-t/2:s+r/2-t/2;return Math.min(d-t,Math.max(0,l))}const Xl=Symbol.for("vuetify:v-slide-group"),bt=Z({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Xl},nextIcon:{type:se,default:"$next"},prevIcon:{type:se,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...ce(),..._t(),...De(),...at({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),et=le()({name:"VSlideGroup",props:bt(),emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const{isRtl:d}=nt(),{displayClasses:n,mobile:c}=ot(e),r=it(e,e.symbol),s=J(!1),l=J(0),b=J(0),C=J(0),g=B(()=>e.direction==="horizontal"),{resizeRef:h,contentRect:A}=Pe(),{resizeRef:T,contentRect:x}=Pe(),v=B(()=>r.selected.value.length?r.items.value.findIndex(f=>f.id===r.selected.value[0]):-1),S=B(()=>r.selected.value.length?r.items.value.findIndex(f=>f.id===r.selected.value[r.selected.value.length-1]):-1);if(Re){let f=-1;te(()=>[r.selected.value,A.value,x.value,g.value],()=>{cancelAnimationFrame(f),f=requestAnimationFrame(()=>{if(A.value&&x.value){const m=g.value?"width":"height";b.value=A.value[m],C.value=x.value[m],s.value=b.value+1<C.value}if(v.value>=0&&T.value){const m=T.value.children[S.value];v.value===0||!s.value?l.value=0:e.centerActive?l.value=Wl({selectedElement:m,containerSize:b.value,contentSize:C.value,isRtl:d.value,isHorizontal:g.value}):s.value&&(l.value=Qe({selectedElement:m,containerSize:b.value,contentSize:C.value,isRtl:d.value,currentScrollOffset:l.value,isHorizontal:g.value}))}})})}const V=J(!1);let M=0,E=0;function G(f){const m=g.value?"clientX":"clientY";E=(d.value&&g.value?-1:1)*l.value,M=f.touches[0][m],V.value=!0}function D(f){if(!s.value)return;const m=g.value?"clientX":"clientY",k=d.value&&g.value?-1:1;l.value=k*(E+M-f.touches[0][m])}function I(f){const m=C.value-b.value;l.value<0||!s.value?l.value=0:l.value>=m&&(l.value=m),V.value=!1}function z(){h.value&&(h.value[g.value?"scrollLeft":"scrollTop"]=0)}const H=J(!1);function W(f){if(H.value=!0,!(!s.value||!T.value)){for(const m of f.composedPath())for(const k of T.value.children)if(k===m){l.value=Qe({selectedElement:k,containerSize:b.value,contentSize:C.value,isRtl:d.value,currentScrollOffset:l.value,isHorizontal:g.value});return}}}function U(f){H.value=!1}function $(f){var m;!H.value&&!(f.relatedTarget&&((m=T.value)!=null&&m.contains(f.relatedTarget)))&&L()}function O(f){T.value&&(g.value?f.key==="ArrowRight"?L(d.value?"prev":"next"):f.key==="ArrowLeft"&&L(d.value?"next":"prev"):f.key==="ArrowDown"?L("next"):f.key==="ArrowUp"&&L("prev"),f.key==="Home"?L("first"):f.key==="End"&&L("last"))}function L(f){var m,k,R,_,w;if(T.value)if(!f)(m=Le(T.value)[0])==null||m.focus();else if(f==="next"){const P=(k=T.value.querySelector(":focus"))==null?void 0:k.nextElementSibling;P?P.focus():L("first")}else if(f==="prev"){const P=(R=T.value.querySelector(":focus"))==null?void 0:R.previousElementSibling;P?P.focus():L("last")}else f==="first"?(_=T.value.firstElementChild)==null||_.focus():f==="last"&&((w=T.value.lastElementChild)==null||w.focus())}function F(f){const m=l.value+(f==="prev"?-1:1)*b.value;l.value=Ie(m,0,C.value-b.value)}const K=B(()=>{let f=l.value>C.value-b.value?-(C.value-b.value)+Ze(C.value-b.value-l.value):-l.value;l.value<=0&&(f=Ze(-l.value));const m=d.value&&g.value?-1:1;return{transform:`translate${g.value?"X":"Y"}(${m*f}px)`,transition:V.value?"none":"",willChange:V.value?"transform":""}}),o=B(()=>({next:r.next,prev:r.prev,select:r.select,isSelected:r.isSelected})),i=B(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!c.value;case!0:return s.value||Math.abs(l.value)>0;case"mobile":return c.value||s.value||Math.abs(l.value)>0;default:return!c.value&&(s.value||Math.abs(l.value)>0)}}),u=B(()=>Math.abs(l.value)>0),p=B(()=>C.value>Math.abs(l.value)+b.value);return ne(()=>a(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!g.value,"v-slide-group--has-affixes":i.value,"v-slide-group--is-overflowing":s.value},n.value,e.class],style:e.style,tabindex:H.value||r.selected.value.length?-1:0,onFocus:$},{default:()=>{var f,m,k;return[i.value&&a("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!u.value}],onClick:()=>u.value&&F("prev")},[((f=t.prev)==null?void 0:f.call(t,o.value))??a($e,null,{default:()=>[a(re,{icon:d.value?e.nextIcon:e.prevIcon},null)]})]),a("div",{key:"container",ref:h,class:"v-slide-group__container",onScroll:z},[a("div",{ref:T,class:"v-slide-group__content",style:K.value,onTouchstartPassive:G,onTouchmovePassive:D,onTouchendPassive:I,onFocusin:W,onFocusout:U,onKeydown:O},[(m=t.default)==null?void 0:m.call(t,o.value)])]),i.value&&a("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!p.value}],onClick:()=>p.value&&F("next")},[((k=t.next)==null?void 0:k.call(t,o.value))??a($e,null,{default:()=>[a(re,{icon:d.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:r.selected,scrollTo:F,scrollOffset:l,focus:L}}}),xt=Symbol.for("vuetify:v-chip-group"),Yl=Z({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Tt},...bt(),...ce(),...at({selectedClass:"v-chip--selected"}),...De(),...Ee(),...st({variant:"tonal"})},"VChipGroup");le()({name:"VChipGroup",props:Yl(),emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const{themeClasses:d}=Me(e),{isSelected:n,select:c,next:r,prev:s,selected:l}=it(e,xt);return At({VChip:{color:ve(e,"color"),disabled:ve(e,"disabled"),filter:ve(e,"filter"),variant:ve(e,"variant")}}),ne(()=>{const b=et.filterProps(e);return a(et,Y(b,{class:["v-chip-group",{"v-chip-group--column":e.column},d.value,e.class],style:e.style}),{default:()=>{var C;return[(C=t.default)==null?void 0:C.call(t,{isSelected:n,select:c,next:r,prev:s,selected:l.value})]}})}),{}}});const Jl=Z({activeClass:String,appendAvatar:String,appendIcon:se,closable:Boolean,closeIcon:{type:se,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:se,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:pe(),onClickOnce:pe(),...Lt(),...ce(),...Bt(),...Ft(),...Dt(),...ut(),...Rt(),...Et(),...De({tag:"span"}),...Ee(),...st({variant:"tonal"})},"VChip"),Zl=le()({name:"VChip",directives:{Ripple:Mt},props:Jl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,y){let{attrs:t,emit:d,slots:n}=y;const{t:c}=rt(),{borderClasses:r}=Ot(e),{colorClasses:s,colorStyles:l,variantClasses:b}=zt(e),{densityClasses:C}=jt(e),{elevationClasses:g}=Ht(e),{roundedClasses:h}=ct(e),{sizeClasses:A}=Nt(e),{themeClasses:T}=Me(e),x=be(e,"modelValue"),v=$t(e,xt,!1),S=Ut(e,t),V=B(()=>e.link!==!1&&S.isLink.value),M=B(()=>!e.disabled&&e.link!==!1&&(!!v||e.link||S.isClickable.value)),E=B(()=>({"aria-label":c(e.closeLabel),onClick(I){I.stopPropagation(),x.value=!1,d("click:close",I)}}));function G(I){var z;d("click",I),M.value&&((z=S.navigate)==null||z.call(S,I),v==null||v.toggle())}function D(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),G(I))}return()=>{const I=S.isLink.value?"a":e.tag,z=!!(e.appendIcon||e.appendAvatar),H=!!(z||n.append),W=!!(n.close||e.closable),U=!!(n.filter||e.filter)&&v,$=!!(e.prependIcon||e.prependAvatar),O=!!($||n.prepend),L=!v||v.isSelected.value;return x.value&&xe(a(I,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":M.value,"v-chip--filter":U,"v-chip--pill":e.pill},T.value,r.value,L?s.value:void 0,C.value,g.value,h.value,A.value,b.value,v==null?void 0:v.selectedClass.value,e.class],style:[L?l.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:S.href.value,tabindex:M.value?0:void 0,onClick:G,onKeydown:M.value&&!V.value&&D},{default:()=>{var F;return[Kt(M.value,"v-chip"),U&&a(vt,{key:"filter"},{default:()=>[xe(a("div",{class:"v-chip__filter"},[n.filter?a(fe,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},n.filter):a(re,{key:"filter-icon",icon:e.filterIcon},null)]),[[Oe,v.isSelected.value]])]}),O&&a("div",{key:"prepend",class:"v-chip__prepend"},[n.prepend?a(fe,{key:"prepend-defaults",disabled:!$,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},n.prepend):a(Q,null,[e.prependIcon&&a(re,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&a(Be,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),a("div",{class:"v-chip__content","data-no-activator":""},[((F=n.default)==null?void 0:F.call(n,{isSelected:v==null?void 0:v.isSelected.value,selectedClass:v==null?void 0:v.selectedClass.value,select:v==null?void 0:v.select,toggle:v==null?void 0:v.toggle,value:v==null?void 0:v.value.value,disabled:e.disabled}))??e.text]),H&&a("div",{key:"append",class:"v-chip__append"},[n.append?a(fe,{key:"append-defaults",disabled:!z,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},n.append):a(Q,null,[e.appendIcon&&a(re,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&a(Be,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),W&&a("button",Y({key:"close",class:"v-chip__close",type:"button"},E.value),[n.close?a(fe,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},n.close):a(re,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[dt("ripple"),M.value&&e.ripple,null]])}}}),Ql=Z({id:String,...ft(qt({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:mt}}),["absolute"])},"VMenu"),ea=le()({name:"VMenu",props:Ql(),emits:{"update:modelValue":e=>!0},setup(e,y){let{slots:t}=y;const d=be(e,"modelValue"),{scopeId:n}=Gt(),c=gt(),r=B(()=>e.id||`v-menu-${c}`),s=X(),l=Fe(Ue,null),b=J(0);Wt(Ue,{register(){++b.value},unregister(){--b.value},closeParents(x){setTimeout(()=>{!b.value&&(x==null||x&&!Xt(x,s.value.contentEl))&&(d.value=!1,l==null||l.closeParents())},40)}});async function C(x){var V,M,E;const v=x.relatedTarget,S=x.target;await ke(),d.value&&v!==S&&((V=s.value)!=null&&V.contentEl)&&((M=s.value)!=null&&M.globalTop)&&![document,s.value.contentEl].includes(S)&&!s.value.contentEl.contains(S)&&((E=Le(s.value.contentEl)[0])==null||E.focus())}te(d,x=>{x?(l==null||l.register(),document.addEventListener("focusin",C,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",C))});function g(x){l==null||l.closeParents(x)}function h(x){var v,S,V;e.disabled||x.key==="Tab"&&(Yt(Le((v=s.value)==null?void 0:v.contentEl,!1),x.shiftKey?"prev":"next",E=>E.tabIndex>=0)||(d.value=!1,(V=(S=s.value)==null?void 0:S.activatorEl)==null||V.focus()))}function A(x){var S;if(e.disabled)return;const v=(S=s.value)==null?void 0:S.contentEl;v&&d.value?x.key==="ArrowDown"?(x.preventDefault(),qe(v,"next")):x.key==="ArrowUp"&&(x.preventDefault(),qe(v,"prev")):["ArrowDown","ArrowUp"].includes(x.key)&&(d.value=!0,x.preventDefault(),setTimeout(()=>setTimeout(()=>A(x))))}const T=B(()=>Y({"aria-haspopup":"menu","aria-expanded":String(d.value),"aria-owns":r.value,onKeydown:A},e.activatorProps));return ne(()=>{const x=Ke.filterProps(e);return a(Ke,Y({ref:s,id:r.value,class:["v-menu",e.class],style:e.style},x,{modelValue:d.value,"onUpdate:modelValue":v=>d.value=v,absolute:!0,activatorProps:T.value,"onClick:outside":g,onKeydown:h},n),{activator:t.activator,default:function(){for(var v=arguments.length,S=new Array(v),V=0;V<v;V++)S[V]=arguments[V];return a(fe,{root:"VMenu"},{default:()=>{var M;return[(M=t.default)==null?void 0:M.call(t,...S)]}})}})}),ze({id:r,ΨopenChildren:b},s)}}),ta=Z({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...ce(),...ht({transition:{component:Jt}})},"VCounter"),la=le()({name:"VCounter",functional:!0,props:ta(),setup(e,y){let{slots:t}=y;const d=B(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return ne(()=>a(Zt,{transition:e.transition},{default:()=>[xe(a("div",{class:["v-counter",e.class],style:e.style},[t.default?t.default({counter:d.value,max:e.max,value:e.value}):d.value]),[[Oe,e.active]])]})),{}}}),aa=Z({floating:Boolean,...ce()},"VFieldLabel"),Ve=le()({name:"VFieldLabel",props:aa(),setup(e,y){let{slots:t}=y;return ne(()=>a(Qt,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},t)),{}}}),na=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],kt=Z({appendInnerIcon:se,bgColor:String,clearable:Boolean,clearIcon:{type:se,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:se,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>na.includes(e)},"onClick:clear":pe(),"onClick:appendInner":pe(),"onClick:prependInner":pe(),...ce(),...el(),...ut(),...Ee()},"VField"),St=le()({name:"VField",inheritAttrs:!1,props:{id:String,...tl(),...kt()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,y){let{attrs:t,emit:d,slots:n}=y;const{themeClasses:c}=Me(e),{loaderClasses:r}=ll(e),{focusClasses:s,isFocused:l,focus:b,blur:C}=yt(e),{InputIcon:g}=al(e),{roundedClasses:h}=ct(e),{rtlClasses:A}=nt(),T=B(()=>e.dirty||e.active),x=B(()=>!e.singleLine&&!!(e.label||n.label)),v=gt(),S=B(()=>e.id||`input-${v}`),V=B(()=>`${S.value}-messages`),M=X(),E=X(),G=X(),D=B(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:I,backgroundColorStyles:z}=nl(ve(e,"bgColor")),{textColorClasses:H,textColorStyles:W}=ol(B(()=>e.error||e.disabled?void 0:T.value&&l.value?e.color:e.baseColor));te(T,O=>{if(x.value){const L=M.value.$el,F=E.value.$el;requestAnimationFrame(()=>{const K=il(L),o=F.getBoundingClientRect(),i=o.x-K.x,u=o.y-K.y-(K.height/2-o.height/2),p=o.width/.75,f=Math.abs(p-K.width)>1?{maxWidth:he(p)}:void 0,m=getComputedStyle(L),k=getComputedStyle(F),R=parseFloat(m.transitionDuration)*1e3||150,_=parseFloat(k.getPropertyValue("--v-field-label-scale")),w=k.getPropertyValue("color");L.style.visibility="visible",F.style.visibility="hidden",sl(L,{transform:`translate(${i}px, ${u}px) scale(${_})`,color:w,...f},{duration:R,easing:ul,direction:O?"normal":"reverse"}).finished.then(()=>{L.style.removeProperty("visibility"),F.style.removeProperty("visibility")})})}},{flush:"post"});const U=B(()=>({isActive:T,isFocused:l,controlRef:G,blur:C,focus:b}));function $(O){O.target!==document.activeElement&&O.preventDefault()}return ne(()=>{var i,u,p;const O=e.variant==="outlined",L=n["prepend-inner"]||e.prependInnerIcon,F=!!(e.clearable||n.clear),K=!!(n["append-inner"]||e.appendInnerIcon||F),o=()=>n.label?n.label({...U.value,label:e.label,props:{for:S.value}}):e.label;return a("div",Y({class:["v-field",{"v-field--active":T.value,"v-field--appended":K,"v-field--center-affix":e.centerAffix??!D.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":L,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!o(),[`v-field--variant-${e.variant}`]:!0},c.value,I.value,s.value,r.value,h.value,A.value,e.class],style:[z.value,e.style],onClick:$},t),[a("div",{class:"v-field__overlay"},null),a(rl,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:n.loader}),L&&a("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&a(g,{key:"prepend-icon",name:"prependInner"},null),(i=n["prepend-inner"])==null?void 0:i.call(n,U.value)]),a("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&x.value&&a(Ve,{key:"floating-label",ref:E,class:[H.value],floating:!0,for:S.value,style:W.value},{default:()=>[o()]}),a(Ve,{ref:M,for:S.value},{default:()=>[o()]}),(u=n.default)==null?void 0:u.call(n,{...U.value,props:{id:S.value,class:"v-field__input","aria-describedby":V.value},focus:b,blur:C})]),F&&a(vt,{key:"clear"},{default:()=>[xe(a("div",{class:"v-field__clearable",onMousedown:f=>{f.preventDefault(),f.stopPropagation()}},[n.clear?n.clear():a(g,{name:"clear"},null)]),[[Oe,e.dirty]])]}),K&&a("div",{key:"append",class:"v-field__append-inner"},[(p=n["append-inner"])==null?void 0:p.call(n,U.value),e.appendInnerIcon&&a(g,{key:"append-icon",name:"appendInner"},null)]),a("div",{class:["v-field__outline",H.value],style:W.value},[O&&a(Q,null,[a("div",{class:"v-field__outline__start"},null),x.value&&a("div",{class:"v-field__outline__notch"},[a(Ve,{ref:E,floating:!0,for:S.value},{default:()=>[o()]})]),a("div",{class:"v-field__outline__end"},null)]),D.value&&x.value&&a(Ve,{ref:E,floating:!0,for:S.value},{default:()=>[o()]})])])}),{controlRef:G}}});function oa(e){const y=Object.keys(St.props).filter(t=>!cl(t)&&t!=="class"&&t!=="style");return dl(e,y)}const ia=["color","file","time","date","datetime-local","week","month"],Ct=Z({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...vl(),...kt()},"VTextField"),tt=le()({name:"VTextField",directives:{Intersect:fl},inheritAttrs:!1,props:Ct(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,y){let{attrs:t,emit:d,slots:n}=y;const c=be(e,"modelValue"),{isFocused:r,focus:s,blur:l}=yt(e),b=B(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:(c.value??"").toString().length),C=B(()=>{if(t.maxlength)return t.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),g=B(()=>["plain","underlined"].includes(e.variant));function h(D,I){var z,H;!e.autofocus||!D||(H=(z=I[0].target)==null?void 0:z.focus)==null||H.call(z)}const A=X(),T=X(),x=X(),v=B(()=>ia.includes(e.type)||e.persistentPlaceholder||r.value||e.active);function S(){var D;x.value!==document.activeElement&&((D=x.value)==null||D.focus()),r.value||s()}function V(D){d("mousedown:control",D),D.target!==x.value&&(S(),D.preventDefault())}function M(D){S(),d("click:control",D)}function E(D){D.stopPropagation(),S(),ke(()=>{c.value=null,hl(e["onClick:clear"],D)})}function G(D){var z;const I=D.target;if(c.value=I.value,(z=e.modelModifiers)!=null&&z.trim&&["text","search","password","tel","url"].includes(e.type)){const H=[I.selectionStart,I.selectionEnd];ke(()=>{I.selectionStart=H[0],I.selectionEnd=H[1]})}}return ne(()=>{const D=!!(n.counter||e.counter!==!1&&e.counter!=null),I=!!(D||n.details),[z,H]=ml(t),{modelValue:W,...U}=Ge.filterProps(e),$=oa(e);return a(Ge,Y({ref:A,modelValue:c.value,"onUpdate:modelValue":O=>c.value=O,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":g.value},e.class],style:e.style},z,U,{centerAffix:!g.value,focused:r.value}),{...n,default:O=>{let{id:L,isDisabled:F,isDirty:K,isReadonly:o,isValid:i}=O;return a(St,Y({ref:T,onMousedown:V,onClick:M,"onClick:clear":E,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},$,{id:L.value,active:v.value||K.value,dirty:K.value||e.dirty,disabled:F.value,focused:r.value,error:i.value===!1}),{...n,default:u=>{let{props:{class:p,...f}}=u;const m=xe(a("input",Y({ref:x,value:c.value,onInput:G,autofocus:e.autofocus,readonly:o.value,disabled:F.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:S,onBlur:l},f,H),null),[[dt("intersect"),{handler:h},null,{once:!0}]]);return a(Q,null,[e.prefix&&a("span",{class:"v-text-field__prefix"},[a("span",{class:"v-text-field__prefix__text"},[e.prefix])]),n.default?a("div",{class:p,"data-no-activator":""},[n.default(),m]):gl(m,{class:p}),e.suffix&&a("span",{class:"v-text-field__suffix"},[a("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:I?O=>{var L;return a(Q,null,[(L=n.details)==null?void 0:L.call(n,O),D&&a(Q,null,[a("span",null,null),a(la,{active:e.persistentCounter||r.value,value:b.value,max:C.value},n.counter)])])}:void 0})}),ze({},A,T,x)}}),sa=Z({renderless:Boolean,...ce()},"VVirtualScrollItem"),ua=le()({name:"VVirtualScrollItem",inheritAttrs:!1,props:sa(),emits:{"update:height":e=>!0},setup(e,y){let{attrs:t,emit:d,slots:n}=y;const{resizeRef:c,contentRect:r}=Pe(void 0,"border");te(()=>{var s;return(s=r.value)==null?void 0:s.height},s=>{s!=null&&d("update:height",s)}),ne(()=>{var s,l;return e.renderless?a(Q,null,[(s=n.default)==null?void 0:s.call(n,{itemRef:c})]):a("div",Y({ref:c,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(l=n.default)==null?void 0:l.call(n)])})}}),ra=-1,ca=1,Ae=100,da=Z({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function va(e,y){const t=ot(),d=J(0);We(()=>{d.value=parseFloat(e.itemHeight||0)});const n=J(0),c=J(Math.ceil((parseInt(e.height)||t.height.value)/(d.value||16))||1),r=J(0),s=J(0),l=X(),b=X();let C=0;const{resizeRef:g,contentRect:h}=Pe();We(()=>{g.value=l.value});const A=B(()=>{var u;return l.value===document.documentElement?t.height.value:((u=h.value)==null?void 0:u.height)||parseInt(e.height)||0}),T=B(()=>!!(l.value&&b.value&&A.value&&d.value));let x=Array.from({length:y.value.length}),v=Array.from({length:y.value.length});const S=J(0);let V=-1;function M(u){return x[u]||d.value}const E=yl(()=>{const u=performance.now();v[0]=0;const p=y.value.length;for(let f=1;f<=p-1;f++)v[f]=(v[f-1]||0)+M(f-1);S.value=Math.max(S.value,performance.now()-u)},S),G=te(T,u=>{u&&(G(),C=b.value.offsetTop,E.immediate(),F(),~V&&ke(()=>{Re&&window.requestAnimationFrame(()=>{o(V),V=-1})}))});pt(()=>{E.clear()});function D(u,p){const f=x[u],m=d.value;d.value=m?Math.min(d.value,p):p,(f!==p||m!==d.value)&&(x[u]=p,E())}function I(u){return u=Ie(u,0,y.value.length-1),v[u]||0}function z(u){return fa(v,u)}let H=0,W=0,U=0;te(A,(u,p)=>{p&&(F(),u<p&&requestAnimationFrame(()=>{W=0,F()}))});function $(){if(!l.value||!b.value)return;const u=l.value.scrollTop,p=performance.now();p-U>500?(W=Math.sign(u-H),C=b.value.offsetTop):W=u-H,H=u,U=p,F()}function O(){!l.value||!b.value||(W=0,U=0,F())}let L=-1;function F(){cancelAnimationFrame(L),L=requestAnimationFrame(K)}function K(){if(!l.value||!A.value)return;const u=H-C,p=Math.sign(W),f=Math.max(0,u-Ae),m=Ie(z(f),0,y.value.length),k=u+A.value+Ae,R=Ie(z(k)+1,m+1,y.value.length);if((p!==ra||m<n.value)&&(p!==ca||R>c.value)){const _=I(n.value)-I(m),w=I(R)-I(c.value);Math.max(_,w)>Ae?(n.value=m,c.value=R):(m<=0&&(n.value=m),R>=y.value.length&&(c.value=R))}r.value=I(n.value),s.value=I(y.value.length)-I(c.value)}function o(u){const p=I(u);!l.value||u&&!p?V=u:l.value.scrollTop=p}const i=B(()=>y.value.slice(n.value,c.value).map((u,p)=>({raw:u,index:p+n.value})));return te(y,()=>{x=Array.from({length:y.value.length}),v=Array.from({length:y.value.length}),E.immediate(),F()},{deep:!0}),{containerRef:l,markerRef:b,computedItems:i,paddingTop:r,paddingBottom:s,scrollToIndex:o,handleScroll:$,handleScrollend:O,handleItemResize:D}}function fa(e,y){let t=e.length-1,d=0,n=0,c=null,r=-1;if(e[t]<y)return t;for(;d<=t;)if(n=d+t>>1,c=e[n],c>y)t=n-1;else if(c<y)r=n,d=n+1;else return c===y?n:d;return r}const ma=Z({items:{type:Array,default:()=>[]},renderless:Boolean,...da(),...ce(),...pl()},"VVirtualScroll"),ga=le()({name:"VVirtualScroll",props:ma(),setup(e,y){let{slots:t}=y;const d=bl("VVirtualScroll"),{dimensionStyles:n}=xl(e),{containerRef:c,markerRef:r,handleScroll:s,handleScrollend:l,handleItemResize:b,scrollToIndex:C,paddingTop:g,paddingBottom:h,computedItems:A}=va(e,ve(e,"items"));return kl(()=>e.renderless,()=>{function T(){var S,V;const v=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";c.value===document.documentElement?(document[v]("scroll",s,{passive:!0}),document[v]("scrollend",l)):((S=c.value)==null||S[v]("scroll",s,{passive:!0}),(V=c.value)==null||V[v]("scrollend",l))}Sl(()=>{c.value=Cl(d.vnode.el,!0),T(!0)}),pt(T)}),ne(()=>{const T=A.value.map(x=>a(ua,{key:x.index,renderless:e.renderless,"onUpdate:height":v=>b(x.index,v)},{default:v=>{var S;return(S=t.default)==null?void 0:S.call(t,{item:x.raw,index:x.index,...v})}}));return e.renderless?a(Q,null,[a("div",{ref:r,class:"v-virtual-scroll__spacer",style:{paddingTop:he(g.value)}},null),T,a("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:he(h.value)}},null)]):a("div",{ref:c,class:["v-virtual-scroll",e.class],onScrollPassive:s,onScrollend:l,style:[n.value,e.style]},[a("div",{ref:r,class:"v-virtual-scroll__container",style:{paddingTop:he(g.value),paddingBottom:he(h.value)}},[T])])}),{scrollToIndex:C}}});function ha(e,y){const t=J(!1);let d;function n(s){cancelAnimationFrame(d),t.value=!0,d=requestAnimationFrame(()=>{d=requestAnimationFrame(()=>{t.value=!1})})}async function c(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(t.value){const l=te(t,()=>{l(),s()})}else s()})}async function r(s){var C,g;if(s.key==="Tab"&&((C=y.value)==null||C.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(g=e.value)==null?void 0:g.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await c();const b=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const h=l.getBoundingClientRect().top;for(const A of b)if(A.getBoundingClientRect().top>=h){A.focus();break}}else{const h=l.getBoundingClientRect().bottom;for(const A of[...b].reverse())if(A.getBoundingClientRect().bottom<=h){A.focus();break}}}return{onListScroll:n,onListKeydown:r}}const ya=Z({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:se,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Hl({itemChildren:!1})},"Select"),pa=Z({...ya(),...ft(Ct({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ht({transition:{component:mt}})},"VSelect"),ba=le()({name:"VSelect",props:pa(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,y){let{slots:t}=y;const{t:d}=rt(),n=X(),c=X(),r=X(),s=be(e,"menu"),l=B({get:()=>s.value,set:i=>{var u;s.value&&!i&&((u=c.value)!=null&&u.ΨopenChildren)||(s.value=i)}}),{items:b,transformIn:C,transformOut:g}=Nl(e),h=be(e,"modelValue",[],i=>C(i===null?[null]:wl(i)),i=>{const u=g(i);return e.multiple?u:u[0]??null}),A=B(()=>typeof e.counterValue=="function"?e.counterValue(h.value):typeof e.counterValue=="number"?e.counterValue:h.value.length),T=Vl(),x=B(()=>h.value.map(i=>i.value)),v=J(!1),S=B(()=>l.value?e.closeText:e.openText);let V="",M;const E=B(()=>e.hideSelected?b.value.filter(i=>!h.value.some(u=>u===i)):b.value),G=B(()=>e.hideNoData&&!E.value.length||e.readonly||(T==null?void 0:T.isReadonly.value)),D=B(()=>{var i;return{...e.menuProps,activatorProps:{...((i=e.menuProps)==null?void 0:i.activatorProps)||{},"aria-haspopup":"listbox"}}}),I=X(),{onListScroll:z,onListKeydown:H}=ha(I,n);function W(i){e.openOnClear&&(l.value=!0)}function U(){G.value||(l.value=!l.value)}function $(i){var k,R;if(!i.key||e.readonly||T!=null&&T.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(i.key)&&i.preventDefault(),["Enter","ArrowDown"," "].includes(i.key)&&(l.value=!0),["Escape","Tab"].includes(i.key)&&(l.value=!1),i.key==="Home"?(k=I.value)==null||k.focus("first"):i.key==="End"&&((R=I.value)==null||R.focus("last"));const u=1e3;function p(_){const w=_.key.length===1,P=!_.ctrlKey&&!_.metaKey&&!_.altKey;return w&&P}if(e.multiple||!p(i))return;const f=performance.now();f-M>u&&(V=""),V+=i.key.toLowerCase(),M=f;const m=b.value.find(_=>_.title.toLowerCase().startsWith(V));m!==void 0&&(h.value=[m])}function O(i){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!i.props.disabled)if(e.multiple){const p=h.value.findIndex(m=>e.valueComparator(m.value,i.value)),f=u??!~p;if(~p){const m=f?[...h.value,i]:[...h.value];m.splice(p,1),h.value=m}else f&&(h.value=[...h.value,i])}else{const p=u!==!1;h.value=p?[i]:[],ke(()=>{l.value=!1})}}function L(i){var u;(u=I.value)!=null&&u.$el.contains(i.relatedTarget)||(l.value=!1)}function F(){var i;v.value&&((i=n.value)==null||i.focus())}function K(i){v.value=!0}function o(i){if(i==null)h.value=[];else if(Xe(n.value,":autofill")||Xe(n.value,":-webkit-autofill")){const u=b.value.find(p=>p.title===i);u&&O(u)}else n.value&&(n.value.value="")}return te(l,()=>{if(!e.hideSelected&&l.value&&h.value.length){const i=E.value.findIndex(u=>h.value.some(p=>e.valueComparator(p.value,u.value)));Re&&window.requestAnimationFrame(()=>{var u;i>=0&&((u=r.value)==null||u.scrollToIndex(i))})}}),te(()=>e.items,(i,u)=>{l.value||v.value&&!u.length&&i.length&&(l.value=!0)}),ne(()=>{const i=!!(e.chips||t.chip),u=!!(!e.hideNoData||E.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),p=h.value.length>0,f=tt.filterProps(e),m=p||!v.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(tt,Y({ref:n},f,{modelValue:h.value.map(k=>k.props.value).join(", "),"onUpdate:modelValue":o,focused:v.value,"onUpdate:focused":k=>v.value=k,validationValue:h.externalValue,counterValue:A.value,dirty:p,class:["v-select",{"v-select--active-menu":l.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":h.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:m,"onClick:clear":W,"onMousedown:control":U,onBlur:L,onKeydown:$,"aria-label":d(S.value),title:d(S.value)}),{...t,default:()=>a(Q,null,[a(ea,Y({ref:c,modelValue:l.value,"onUpdate:modelValue":k=>l.value=k,activator:"parent",contentClass:"v-select__content",disabled:G.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:F},D.value),{default:()=>[u&&a($l,Y({ref:I,selected:x.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:k=>k.preventDefault(),onKeydown:H,onFocusin:K,onScrollPassive:z,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var k,R,_;return[(k=t["prepend-item"])==null?void 0:k.call(t),!E.value.length&&!e.hideNoData&&(((R=t["no-data"])==null?void 0:R.call(t))??a(Je,{title:d(e.noDataText)},null)),a(ga,{ref:r,renderless:!0,items:E.value},{default:w=>{var oe;let{item:P,index:N,itemRef:q}=w;const ae=Y(P.props,{ref:q,key:N,onClick:()=>O(P,null)});return((oe=t.item)==null?void 0:oe.call(t,{item:P,index:N,props:ae}))??a(Je,Y(ae,{role:"option"}),{prepend:Se=>{let{isSelected:ue}=Se;return a(Q,null,[e.multiple&&!e.hideSelected?a(Il,{key:P.value,modelValue:ue,ripple:!1,tabindex:"-1"},null):void 0,P.props.prependAvatar&&a(Be,{image:P.props.prependAvatar},null),P.props.prependIcon&&a(re,{icon:P.props.prependIcon},null)])}})}}),(_=t["append-item"])==null?void 0:_.call(t)]}})]}),h.value.map((k,R)=>{function _(q){q.stopPropagation(),q.preventDefault(),O(k,!1)}const w={"onClick:close":_,onMousedown(q){q.preventDefault(),q.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},P=i?!!t.chip:!!t.selection,N=P?Pl(i?t.chip({item:k,index:R,props:w}):t.selection({item:k,index:R})):void 0;if(!(P&&!N))return a("div",{key:k.value,class:"v-select__selection"},[i?t.chip?a(fe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:k.title}}},{default:()=>[N]}):a(Zl,Y({key:"chip",closable:e.closableChips,size:"small",text:k.title,disabled:k.props.disabled},w),null):N??a("span",{class:"v-select__selection-text"},[k.title,e.multiple&&R<h.value.length-1&&a("span",{class:"v-select__selection-comma"},[ye(",")])])])})]),"append-inner":function(){var w;for(var k=arguments.length,R=new Array(k),_=0;_<k;_++)R[_]=arguments[_];return a(Q,null,[(w=t["append-inner"])==null?void 0:w.call(t,...R),e.menuIcon?a(re,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),ze({isFocused:v,menu:l,select:O},n)}});function lt(e,y){e.updateMatrixWorld();let t=e.geometry.getAttribute("position"),d=e.geometry.index;if(!d){d=new Ul(new Uint16Array(t.count),1);for(let r=0;r<t.count;r++)d.array[r]=r}let n=new ee,c=[];for(let r=0;r<d.count;r++){let s=d.array[r],l=new ee(t.getX(s),t.getY(s),t.getZ(s));l=y.target.worldToLocal(e.localToWorld(l)),n.add(l),c.push(l)}return n=n.divideScalar(d.count),{center:n,vertices:c}}function xa(e,y,t){let{center:d,vertices:n}=lt(e,t),{center:c,vertices:r}=lt(y,t),s=1/0,l=[new ee,new ee],b=-1/0,C=[new ee,new ee];for(let g=0;g<n.length;g++)for(let h=0;h<r.length;h++){let A=n[g].distanceTo(r[h]);A<s&&(s=A,l[0]=n[g],l[1]=r[h]),A>b&&(b=A,C[0]=n[g],C[1]=r[h])}return{min:l,center:[d,c],max:C}}const ka={class:"select-parent"},Sa=_l({__name:"Selection",props:Ye({viewer:{}},{modelValue:{default:[]},modelModifiers:{}}),emits:Ye(["findModel"],["update:modelValue"]),setup(e,{emit:y}){let t=e,d=y,{setDisableTap:n}=Fe("disableTap"),c=X(!1),r=Tl(e,"modelValue"),s=X([!1,!1]),l=X(!1),b=X(!0),C=null,g=X("Any (S)");const h=new ql;let A=o=>{C=[o.clientX,o.clientY],c.value},T=o=>{var k,R;if(C){let[_,w]=C;if(C=null,Math.abs(o.clientX-_)>5||Math.abs(o.clientY-w)>5)return}if(!c.value)return;let i=1;if((k=t.viewer)!=null&&k.scene){let _=t.viewer.scene,w=_.getTarget().clone().add(_.target.position);i=_.camera.position.distanceTo(w)/150}g.value==="Any (S)"?(h.params.Line.threshold=i,h.params.Points.threshold=i*2):g.value==="(E)dges"?(h.params.Line.threshold=i,h.params.Points.threshold=0):g.value==="(V)ertices"?(h.params.Line.threshold=0,h.params.Points.threshold=i):g.value==="(F)aces"&&(h.params.Line.threshold=0,h.params.Points.threshold=0);let u=(R=t.viewer)==null?void 0:R.scene;const p=u.getNDC(o.clientX,o.clientY);h.setFromCamera(p,u.camera),u.camera.isPerspectiveCamera||h.ray.direction.copy(u.camera.getWorldDirection(new ee));let m=h.intersectObject(u,!0).filter(_=>{if(!_.object)return!1;const w=_.object.type;let P=w==="Mesh"||w==="SkinnedMesh",N=w==="Line"||w==="LineSegments",q=w==="Points";const ae=g.value==="Any (S)"||P&&g.value==="(F)aces"||N&&g.value==="(E)dges"||q&&g.value==="(V)ertices";return(!P||_.object.visible)&&!_.object.userData.noHit&&ae}).sort((_,w)=>{function P(N){let q=N.distance;return(N.object.type==="Mesh"||N.object.type==="SkinnedMesh")&&(q+=i),(N.object.type==="Line"||N.object.type==="LineSegments")&&(q+=i/2),q}return P(_)-P(w)})[0];s.value[0]?m&&(d("findModel",m.object.userData[zl]),M()):(m?r.value.find(w=>{var P;return w.object.name===((P=m==null?void 0:m.object)==null?void 0:P.name)})!==void 0?v(m):x(m):S(),O(),K()),u.queueRender()};function x(o){r.value.find(i=>i.object.name===o.object.name)===void 0&&r.value.push(o),o.object.material.__prevBaseColorFactor=[o.object.material.color.r,o.object.material.color.g,o.object.material.color.b],o.object.material.color.r=1,o.object.material.color.g=0,o.object.material.color.b=0}function v(o,i=!0){if(i){let u=r.value.findIndex(p=>p.object.name===o.object.name);r.value.splice(u,1)}o.object.material.__prevBaseColorFactor&&(o.object.material.color.r=o.object.material.__prevBaseColorFactor[0],o.object.material.color.g=o.object.material.__prevBaseColorFactor[1],o.object.material.color.b=o.object.material.__prevBaseColorFactor[2],delete o.object.material.__prevBaseColorFactor)}function S(o=!0){let i=r.value.slice();for(let u of i)v(u,o)}function V(){var i;(i=t.viewer)!=null&&i.elem&&(c.value=!c.value,n(c.value))}function M(){s.value=[!s.value[0],s.value[0]?s.value[1]:c.value],s.value[0]?c.value||V():(c.value!==s.value[1]&&V(),s.value=[!1,!1])}function E(){l.value=!l.value,O()}let G=!0,D=!1,I=!1,z=0,H=()=>{if(z=performance.now(),I)return;I=!0;let o;o=()=>{performance.now()-z>250?(O(),I=!1):setTimeout(o,100)},setTimeout(o,100)},W=o=>{o&&o.onElemReady(i=>{D||(D=!0,i.addEventListener("mouseup",T),i.addEventListener("mousedown",A),i.addEventListener("load",()=>{G?(E(),G=!1):O()}),i.addEventListener("camera-change",H))})};t.viewer?W(t.viewer):te(()=>t.viewer,()=>W(t.viewer));let{sceneDocument:U}=Fe("sceneDocument"),$={};function O(){var f,m,k,R,_;if(!l.value){for(let w of Object.values($))(f=t.viewer)==null||f.removeLine3D(w);$={};return}let o,i=Object.keys($);if(r.value.length>0){o=new Gl;for(let w of r.value)o.expandByObject(w.object);o.applyMatrix4(new Kl().makeTranslation((m=t.viewer)==null?void 0:m.scene.getTarget()))}else{let w=Ol.getBoundingBox(U.value);if(!w)return;o=w}let u=[[o.min.x,o.min.y,o.min.z],[o.min.x,o.min.y,o.max.z],[o.min.x,o.max.y,o.min.z],[o.min.x,o.max.y,o.max.z],[o.max.x,o.min.y,o.min.z],[o.max.x,o.min.y,o.max.z],[o.max.x,o.max.y,o.min.z],[o.max.x,o.max.y,o.max.z]],p=[[[0,4],[1,5],[2,6],[3,7]],[[0,2],[1,3],[4,6],[5,7]],[[0,1],[2,3],[4,5],[6,7]]];for(let w in p){let P=p[w],N=P[0];for(let de=0;de<2;de++){N=P[0];let He=1/0,wt=(k=t.viewer)==null?void 0:k.scene.camera.position;for(let me of P){let Vt=new ee(...u[me[0]]),It=new ee(...u[me[1]]),Pt=Vt.clone().add(It).multiplyScalar(.5),Ne=wt.distanceTo(Pt);Ne<He&&(N=me,He=Ne)}P=P.filter(me=>me!==N)}let q=new ee(...u[N[0]]),ae=new ee(...u[N[1]]),oe=ae.clone().sub(q).length();if(oe<.05)continue;let Se=[Te.x,Te.y,Te.z][w][1],ue=JSON.stringify([q,ae]);if($[ue])i=i.filter(de=>de!==ue);else{let de=(R=t.viewer)==null?void 0:R.addLine3D(q,ae,oe.toFixed(1)+"mm",{stroke:"rgb("+Se.join(",")+")","stroke-width":"2"});de&&($[ue]=de)}}for(let w of i)(_=t.viewer)!=null&&_.removeLine3D($[w])&&delete $[w]}function L(){b.value=!b.value,K()}let F={};function K(){var R,_,w;if(!b.value||r.value.length!=2){for(let P of Object.values(F))(R=t.viewer)==null||R.removeLine3D(P);F={};return}let o=Object.keys(F);function i(P,N,q,ae){var ue;let oe=JSON.stringify([P,N]);F[oe]?o=o.filter(je=>je!==oe):F[oe]=(ue=t.viewer)==null?void 0:ue.addLine3D(P,N,q,{stroke:ae,"stroke-width":"2","stroke-dasharray":"5"})}let u=r.value[0].object,p=r.value[1].object,{min:f,center:m,max:k}=xa(u,p,(_=t.viewer)==null?void 0:_.scene);i(k[0],k[1],k[1].distanceTo(k[0]).toFixed(1)+"mm","orange"),i(m[0],m[1],m[1].distanceTo(m[0]).toFixed(1)+"mm","green"),i(f[0],f[1],f[1].distanceTo(f[0]).toFixed(1)+"mm","cyan");for(let P of o)(w=t.viewer)==null||w.removeLine3D(F[P]),delete F[P]}return window.addEventListener("keydown",o=>{o.key==="s"?g.value=="Any (S)"?V():(g.value="Any (S)",c.value||V()):o.key==="f"?g.value=="(F)aces"?V():(g.value="(F)aces",c.value||V()):o.key==="e"?g.value=="(E)dges"?V():(g.value="(E)dges",c.value||V()):o.key==="v"?g.value=="(V)ertices"?V():(g.value="(V)ertices",c.value||V()):o.key==="b"?E():o.key==="d"?L():o.key==="h"&&M()}),(o,i)=>(Al(),Ll(Q,null,[Bl("div",ka,[a(j(we),{icon:"",onClick:V,color:j(c)?"surface-light":""},{default:ie(()=>[a(j(ge),{activator:"parent"},{default:ie(()=>[ye(_e(j(c)?"Disable (s)election mode":"Enable (s)election mode"),1)]),_:1}),a(j(Ce),{type:"mdi",path:j(Fl)},null,8,["path"])]),_:1},8,["color"]),a(j(ge),{text:"Select only "+j(g).toString().toLocaleLowerCase(),"open-on-click":!1},{activator:ie(({props:u})=>[a(j(ba),Y(u,{class:"select-only",variant:"underlined",items:["Any (S)","(F)aces","(E)dges","(V)ertices"],modelValue:j(g),"onUpdate:modelValue":i[0]||(i[0]=p=>Dl(g)?g.value=p:g=p)}),null,16,["items","modelValue"])]),_:1},8,["text"])]),a(j(we),{icon:"",onClick:M,color:j(s)[0]?"surface-light":""},{default:ie(()=>[a(j(ge),{activator:"parent"},{default:ie(()=>[ye("(H)ighlight the next clicked element in the models list")]),_:1}),a(j(Ce),{type:"mdi",path:j(Rl)},null,8,["path"])]),_:1},8,["color"]),a(j(we),{icon:"",onClick:E,color:j(l)?"surface-light":""},{default:ie(()=>[a(j(ge),{activator:"parent"},{default:ie(()=>[ye(_e(j(l)?"Hide selection (b)ounds":"Show selection (b)ounds"),1)]),_:1}),a(j(Ce),{type:"mdi",path:j(El)},null,8,["path"])]),_:1},8,["color"]),a(j(we),{icon:"",onClick:L,color:j(b)?"surface-light":""},{default:ie(()=>[a(j(ge),{activator:"parent"},{default:ie(()=>[ye(_e(j(b)?"Hide selection (d)istances":"Show (d)istances (when a pair of features is selected)"),1)]),_:1}),a(j(Ce),{type:"mdi",path:j(Ml)},null,8,["path"])]),_:1},8,["color"])],64))}}),Va=jl(Sa,[["__scopeId","data-v-478b9db0"]]);export{Va as default};
