<odoo>
  <data>
    <template id="report_invoice_document_descontrol_view" inherit_id="account.report_invoice_document">

      <xpath expr="//t[@t-set='colspan']" position="replace">
          <t t-set="colspan" t-value="8"/>
      </xpath>

      <xpath expr="//th[@name='th_description']" position="before">
        <th name="th_isbn" class="text-left"><span>CÃ³digo barras / ISBN</span></th>
      </xpath>

      <xpath expr="//th[@name='th_priceunit']" position="before">
        <th name="th_isbn" class="text-left"><span>PVP</span></th>
      </xpath>

      <xpath expr="//th[@name='th_taxes']" position="before">
        <th name="th_desc_tarifa" class="text-right"><span>% Desc Tarifa</span></th>
      </xpath>

      <xpath expr="//td[@name='account_invoice_line_name']" position="before">
        <td name="account_invoice_line_isbn"><span t-field="line.product_barcode"/></td>
      </xpath>

      <xpath expr="//td[@name='account_invoice_line_name']/following-sibling::td[1]" position="after">
        <td name="account_invoice_line_product_pvp"><span t-field="line.product_id.list_price"/></td>
      </xpath>

      <xpath expr="//span[@id='line_tax_ids']/parent::*" position="before">
        <td class="text-right">
          <t t-set="descuento_tarifa" t-value="((line.product_id.list_price != 0) and ((line.product_id.list_price - line.price_unit) / line.product_id.list_price) * 100 or 0)"/>
          <span class="text-nowrap" t-esc="descuento_tarifa" t-options='{"widget": "float", "precision": 2}'/>     
        </td> 
      </xpath>

    </template>
  </data>
</odoo>
