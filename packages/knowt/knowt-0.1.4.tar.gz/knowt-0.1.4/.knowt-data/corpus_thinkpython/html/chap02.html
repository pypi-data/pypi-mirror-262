<html>
<head>
<title>Chapter 2: Variables, expressions and statements</title>

<style type="text/css">
<!--
.code {font-family: Courier; font-size: 85%;}
.keyword {color: #0000ff;}
.comment {color: #008000;}
.quote {color: #ff0000;}
.function {color: #ffc400;}
-->
</style>

</head>

<body bgcolor=white>

<table width=500><tr><td>
This is an older version of the book now known as <i>Think Python</i>.  You might prefer to <a href="../../../../greenteapress.com/wp/think-python-2e/index.html">read a more recent version</a>.


<hr>
<table width="100%" cellpadding="0" cellspacing="2" border="0">

  <tr>
    <td width="20"><a href="chap01.html"><img border="0" alt="Previous" src="images/prev.png"></a></td>
    <td width="20"><a href="index.html"><img border="0" alt="Up" src="images/up.png"></a></td>
    <td width="20"><a href="chap03.html"><img border="0" alt="Next" src="images/next.png"></a></td>
    <td center>How to Think Like a Computer Scientist</td>
    <td width="20"><a href="dex.html"><img border="0" alt="Index" src="images/index.png"></a></td>
  </tr>

</table>
<hr>



<h2>Chapter 2</h2>



<h1>Variables, expressions and statements</h1>

<a name=1></a>
<h3>2.1 Values and types</h3>
<p>
A <b>value</b> is one of the fundamental things <s>&nbsp; &nbsp;</s> like a letter or a
number <s>&nbsp; &nbsp;</s> that a program manipulates.  The values we have seen so far
are <tt><font size=-1>2</font></tt> (the result when we added <tt><font size=-1>1 + 1</font></tt>), and
<tt><font size=-1><font color=red>'Hello, World!'</font></font></tt>.
<p>
These values belong to different <b>types</b>:
<tt><font size=-1>2</font></tt> is an integer, and <tt><font size=-1><font color=red>'Hello, World!'</font></font></tt> is a <b>string</b>,
so-called because it contains a "string" of letters.
You (and the interpreter) can identify
strings because they are enclosed in quotation marks.
<p>
The print statement also works for integers.

<p><tt><font size=-1>&gt;&gt;&gt; <font color=black>print</font> 4
<br>4
<br></font></tt></p>

<p>
If you are not sure what type a value has,
the interpreter can tell you.

<p><tt><font size=-1>&gt;&gt;&gt; type(<font color=red>'Hello, World!'</font>)
<br>&lt;type <font color=red>'str'</font>&gt;
<br>&gt;&gt;&gt; type(17)
<br>&lt;type <font color=red>'int'</font>&gt;
<br></font></tt></p>

<p>
Not surprisingly, strings belong to the type <tt><font size=-1>str</font></tt> and
integers belong to the type <tt><font size=-1>int</font></tt>.  Less obviously, numbers
with a decimal point belong to a type called <tt><font size=-1>float</font></tt>,
because these numbers are represented in a
format called <b>floating-point</b>.

<p><tt><font size=-1>&gt;&gt;&gt; type(3.2)
<br>&lt;type <font color=red>'float'</font>&gt;
<br></font></tt></p>

<p>
What about values like <tt><font size=-1><font color=red>'17'</font></font></tt> and <tt><font size=-1><font color=red>'3.2'</font></font></tt>?
They look like numbers, but they are in quotation marks like
strings.

<p><tt><font size=-1>&gt;&gt;&gt; type(<font color=red>'17'</font>)
<br>&lt;type <font color=red>'str'</font>&gt;
<br>&gt;&gt;&gt; type(<font color=red>'3.2'</font>)
<br>&lt;type <font color=red>'str'</font>&gt;
<br></font></tt></p>

<p>
They're strings.
<p>
When you type a large integer, you might be tempted to use commas
between groups of three digits, as in <tt><font size=-1>1,000,000</font></tt>.  This is not a
legal integer in Python, but it is a legal expression:

<p><tt><font size=-1>&gt;&gt;&gt; <font color=black>print</font> 1,000,000
<br>1 0 0
<br></font></tt></p>

<p>
Well, that's not what we expected at all!  Python interprets <tt><font size=-1>1,000,000</font></tt> as a comma-separated list of three integers, which it
prints consecutively.  This is the first example we have seen of a
semantic error: the code runs without producing an error message, but
it doesn't do the "right" thing.

<a name=2></a>
<h3>2.2 Variables</h3>
<p>
One of the most powerful features of a programming language is the
ability to manipulate <b>variables</b>.  A variable is a name that
refers to a value.
<p>
The <b>assignment statement</b> creates new variables and gives
them values:

<p><tt><font size=-1>&gt;&gt;&gt; message = <font color=red>"What's up, Doc?"</font>
<br>&gt;&gt;&gt; n = 17
<br>&gt;&gt;&gt; pi = 3.14159
<br></font></tt></p>

<p>
This example makes three assignments.  The first assigns the string
<tt><font size=-1><font color=red>"What's up, Doc?"</font></font></tt> to a new variable named <tt><font size=-1>message</font></tt>.
The second gives the integer <tt><font size=-1>17</font></tt> to <tt><font size=-1>n</font></tt>, and the third
gives the floating-point number <tt><font size=-1>3.14159</font></tt> to <tt><font size=-1>pi</font></tt>.
<p>
Notice that the first statement uses double quotes to enclose the
string.  In general, single and double quotes do the same thing, but
if the string contains a single quote (or an apostrophe, which is
the same character), you have to use double quotes to enclose it.
<p>
A common way to represent variables on paper is to write the name with
an arrow pointing to the variable's value.  This kind of figure is
called a <b>state diagram</b> because it shows what state each of the
variables is in (think of it as the variable's state of mind).
This diagram shows the result of the assignment statements:

<p align="center"><img src="illustrations/state2.png"></p>
<p>
The print statement also works with variables.

<p><tt><font size=-1>&gt;&gt;&gt; <font color=black>print</font> message
<br>What's up, Doc?
<br>&gt;&gt;&gt; <font color=black>print</font> n
<br>17
<br>&gt;&gt;&gt; <font color=black>print</font> pi
<br>3.14159
<br></font></tt></p>

<p>
In each case the result is the value of the variable.
Variables also have types; again, we can ask the
interpreter what they are.

<p><tt><font size=-1>&gt;&gt;&gt; type(message)
<br>&lt;type <font color=red>'str'</font>&gt;
<br>&gt;&gt;&gt; type(n)
<br>&lt;type <font color=red>'int'</font>&gt;
<br>&gt;&gt;&gt; type(pi)
<br>&lt;type <font color=red>'float'</font>&gt;
<br></font></tt></p>

<p>
The type of a variable is the type of the value it
refers to.

<a name=3></a>
<h3>2.3 Variable names and keywords</h3>
<p>
Programmers generally choose names for their variables that
are meaningful <s>&nbsp; &nbsp;</s> they document what the variable is used for.
<p>
Variable names can be arbitrarily long.  They can contain
both letters and numbers, but they have to begin with a letter.
Although it is legal to use uppercase letters, by convention
we don't.  If you do, remember that case matters.  <tt><font size=-1>Bruce</font></tt>
and <tt><font size=-1>bruce</font></tt> are different variables.
<p>
The underscore character (<tt><font size=-1>_</font></tt>) can appear in a name.
It is often used in names with multiple words, such as
<tt><font size=-1>my_name</font></tt> or <tt><font size=-1>price_of_tea_in_china</font></tt>.
<p>
If you give a variable an illegal name, you get a syntax error:

<p><tt><font size=-1>&gt;&gt;&gt; 76trombones = <font color=red>'big parade'</font>
<br>SyntaxError: invalid syntax
<br>&gt;&gt;&gt; more$ = 1000000
<br>SyntaxError: invalid syntax
<br>&gt;&gt;&gt; <font color=black>class</font> = <font color=red>'Computer Science 101'</font>
<br>SyntaxError: invalid syntax
<br></font></tt></p>

<p>
<tt><font size=-1>76trombones</font></tt> is illegal because it does not begin with a letter.
<tt><font size=-1>more$</font></tt> is illegal because it contains an illegal character, the dollar
sign.  But what's wrong with <tt><font size=-1><font color=black>class</font></font></tt>?
<p>
It turns out that <tt><font size=-1><font color=black>class</font></font></tt> is one of the Python <b>keywords</b>.
Keywords define the language's rules and structure, and they cannot be
used as variable names.
<p>
Python has twenty-nine keywords:

<p><tt><font size=-1><font color=black>and&nbsp; &nbsp; &nbsp; &nbsp;def&nbsp; &nbsp; &nbsp; &nbsp;exec&nbsp; &nbsp; &nbsp; if&nbsp; &nbsp; &nbsp; &nbsp; not&nbsp; &nbsp; &nbsp; &nbsp;return
<br>assert&nbsp; &nbsp; del&nbsp; &nbsp; &nbsp; &nbsp;finally&nbsp; &nbsp;import&nbsp; &nbsp; or&nbsp; &nbsp; &nbsp; &nbsp; try
<br>break&nbsp; &nbsp; &nbsp;elif&nbsp; &nbsp; &nbsp; for&nbsp; &nbsp; &nbsp; &nbsp;in&nbsp; &nbsp; &nbsp; &nbsp; pass&nbsp; &nbsp; &nbsp; while
<br>class&nbsp; &nbsp; &nbsp;else&nbsp; &nbsp; &nbsp; from&nbsp; &nbsp; &nbsp; is&nbsp; &nbsp; &nbsp; &nbsp; print</font>&nbsp; &nbsp; &nbsp;yield
<br><font color=black>continue&nbsp; except&nbsp; &nbsp; global&nbsp; &nbsp; lambda&nbsp; &nbsp; raise</font>
<br></font></tt></p>

<p>
You might want to keep this list handy.  If the interpreter complains
about one of your variable names and you don't know why, see if it
is on this list.

<a name=4></a>
<h3>2.4 Statements</h3>
<p>
A statement is an instruction that the Python interpreter can
execute.  We have seen two kinds of statements: print
and assignment.
<p>
When you type a statement on the command line, Python
executes it and displays the result, if there is one.  The
result of a print statement is a value.  Assignment statements
don't produce a result.
<p>
A script usually contains a sequence of statements.  If there
is more than one statement, the results appear one at a time
as the statements execute.
<p>
For example, the script

<p><tt><font size=-1><font color=black>print</font> 1
<br>x = 2
<br><font color=black>print</font> x
<br></font></tt></p>

<p>
produces the output

<p><tt><font size=-1>1
<br>2
<br></font></tt></p>

<p>
Again, the assignment statement produces no output.

<a name=5></a>
<h3>2.5 Evaluating expressions</h3>
<p>
An expression is a combination of values, variables, and operators.
If you type an expression on the command line, the interpreter
<b>evaluates</b> it and displays the result:

<p><tt><font size=-1>&gt;&gt;&gt; 1 + 1
<br>2
<br></font></tt></p>

<p>
Although expressions contain values, variables, and operators,
not every expression contains all of these elements.
A value all by itself is considered an expression, and so is
a variable.

<p><tt><font size=-1>&gt;&gt;&gt; 17
<br>17
<br>&gt;&gt;&gt; x
<br>2
<br></font></tt></p>

<p>
Confusingly, evaluating an expression is not quite the same
thing as printing a value.

<p><tt><font size=-1>&gt;&gt;&gt; message = <font color=red>'Hello, World!'</font>
<br>&gt;&gt;&gt; message
<br><font color=red>'Hello, World!'</font>
<br>&gt;&gt;&gt; <font color=black>print</font> message
<br>Hello, World!
<br></font></tt></p>

<p>
When the Python interpreter displays the value of an expression, it
uses the same format you would use to enter a value.  In the case of
strings, that means that it includes the quotation marks.  But if
you use a print statement, Python displays the contents of the string
without the quotation marks.
<p>
In a script, an expression all by itself is a legal statement, but it
doesn't do anything.  The script

<p><tt><font size=-1>17
<br>3.2
<br><font color=red>'Hello, World!'</font>
<br>1 + 1
<br></font></tt></p>

<p>
produces no output at all.  How would you change the script to
display the values of these four expressions?

<a name=6></a>
<h3>2.6 Operators and operands</h3>
<p>
<b>Operators</b> are special symbols that represent computations
like addition and multiplication.  The values the operator uses are
called <b>operands</b>.
<p>
The following are all legal Python expressions whose meaning is more or
less clear:


<p><tt><font size=-1>20+32&nbsp; &nbsp;hour-1&nbsp; &nbsp;hour*60+minute&nbsp; &nbsp;minute/60&nbsp; &nbsp;5**2&nbsp; &nbsp;(5+9)*(15-7)
<br></font></tt></p>

<p>
The symbols <tt><font size=-1>+</font></tt>, <tt><font size=-1>-</font></tt>, and <tt><font size=-1>/</font></tt>, and the use of parenthesis for
grouping, mean in Python what they mean in mathematics.  The asterisk
(<tt><font size=-1>*</font></tt>) is the symbol for multiplication, and <tt><font size=-1>**</font></tt> is the symbol
for exponentiation.
<p>
When a variable name appears in the place of an operand, it
is replaced with its value before the operation is
performed.
<p>
Addition, subtraction, multiplication, and exponentiation all do what
you expect, but you might be surprised by division.  The following
operation has an unexpected result:

<p><tt><font size=-1>&gt;&gt;&gt; minute = 59
<br>&gt;&gt;&gt; minute/60
<br>0
<br></font></tt></p>

<p>
The value of <tt><font size=-1>minute</font></tt> is 59, and in conventional arithmetic 59
divided by 60 is 0.98333, not 0.  The reason for the discrepancy is
that Python is performing <b>integer division</b>.
<p>
When both of the operands are integers, the result must also be an integer,
and by convention, integer division always rounds <i>down</i>, even in cases
like this where the next integer is very close.
<p>
A possible solution to this problem is to calculate a percentage
rather than a fraction:

<p><tt><font size=-1>&gt;&gt;&gt; minute*100/60
<br>98
<br></font></tt></p>

<p>
Again the result is rounded down, but at least now the answer is
approximately correct.  Another alternative is to use floating-point
division, which we get to in <a href="chap03.html">Chapter 3</a>.

<a name=7></a>
<h3>2.7 Order of operations</h3>
<p>
When more than one operator appears in an expression, the order of
evaluation depends on the <b>rules of precedence</b>.  Python follows
the same precedence rules for its mathematical operators that
mathematics does.  The acronym <b>PEMDAS</b> is a useful way to
remember the order of operations:

<ul>
<li><b>P</b>arentheses have the highest precedence and can be used 
to force an expression to evaluate in the order you want. Since
expressions in parentheses are evaluated first, <tt><font size=-1>2 * (3-1)</font></tt> is 4,
and <tt><font size=-1>(1+1)**(5-2)</font></tt> is 8. You can also use parentheses to make an
expression easier to read, as in <tt><font size=-1>(minute * 100) / 60</font></tt>, even
though it doesn't change the result.</li>
<li><b>E</b>xponentiation has the next highest precedence, so
<tt><font size=-1>2**1+1</font></tt> is 3 and not 4, and <tt><font size=-1>3*1**3</font></tt> is 3 and not 27.</li>
<li><b>M</b>ultiplication and <b>D</b>ivision have the same precedence,
which is higher than <b>A</b>ddition and <b>S</b>ubtraction, which also
have the same precedence.  So <tt><font size=-1>2*3-1</font></tt> yields 5 rather than 4, and
<tt><font size=-1>2/3-1</font></tt> is <tt><font size=-1>-1</font></tt>, not <tt><font size=-1>1</font></tt> (remember that in integer
division, <tt><font size=-1>2/3=0</font></tt>).</li>
<li>Operators with the same precedence are evaluated from left to 
right.  So in the expression <tt><font size=-1>minute*100/60</font></tt>, the multiplication
happens first, yielding <tt><font size=-1>5900/60</font></tt>, which in turn yields <tt><font size=-1>98</font></tt>.
If the operations had been evaluated from right to left, the result
would have been <tt><font size=-1>59*1</font></tt>, which is <tt><font size=-1>59</font></tt>, which is wrong.</li>
</ul>

<a name=8></a>
<h3>2.8 Operations on strings</h3>
<p>
In general, you cannot perform mathematical operations on strings, even
if the strings look like numbers.  The following are illegal (assuming
that <tt><font size=-1>message</font></tt> has type <tt><font size=-1>string</font></tt>):

<p><tt><font size=-1> message-1&nbsp; &nbsp;<font color=red>'Hello'</font>/123&nbsp; &nbsp;message*<font color=red>'Hello'</font>&nbsp; &nbsp;<font color=red>'15'</font>+2
<br></font></tt></p>

<p>
Interestingly, the <tt><font size=-1>+</font></tt> operator does work with strings, although it
does not do exactly what you might expect.  For strings, the <tt><font size=-1>+</font></tt> operator
represents <b>concatenation</b>, which means joining the two operands by
linking them end-to-end.  For example:

<p><tt><font size=-1>fruit = <font color=red>'banana'</font>
<br>bakedGood = <font color=red>' nut bread'</font>
<br><font color=black>print</font> fruit + bakedGood
<br></font></tt></p>

<p>
The output of this program is <tt><font size=-1>banana nut bread</font></tt>.  The space
before the word <tt><font size=-1>nut</font></tt> is part of the string, and is necessary
to produce the space between the concatenated strings.
<p>
The <tt><font size=-1>*</font></tt> operator also works on strings; it performs repetition.
For example, <tt><font size=-1><font color=red>'Fun'</font>*3</font></tt> is <tt><font size=-1><font color=red>'FunFunFun'</font></font></tt>.  One of the operands
has to be a string; the other has to be an integer.
<p>
On one hand, this interpretation of <tt><font size=-1>+</font></tt> and <tt><font size=-1>*</font></tt> makes sense by
analogy with addition and multiplication.  Just as <tt><font size=-1>4*3</font></tt> is
equivalent to <tt><font size=-1>4+4+4</font></tt>, we expect <tt><font size=-1><font color=red>'Fun'</font>*3</font></tt> to be the same as
<tt><font size=-1><font color=red>'Fun'</font>+<font color=red>'Fun'</font>+<font color=red>'Fun'</font></font></tt>, and it is.  On the other hand, there is a
significant way in which string concatenation and repetition are
different from integer addition and multiplication.
Can you think of a property that addition and multiplication have
that string concatenation and repetition do not?

<a name=9></a>
<h3>2.9 Composition</h3>
<p>
So far, we have looked at the elements of a program <s>&nbsp; &nbsp;</s> variables,
expressions, and statements <s>&nbsp; &nbsp;</s> in isolation, without talking about how to
combine them.
<p>
One of the most useful features of programming languages is their
ability to take small building blocks and <b>compose</b> them.  For
example, we know how to add numbers and we know how to print; it turns
out we can do both at the same time:

<p><tt><font size=-1>&gt;&gt;&gt;&nbsp; <font color=black>print</font> 17 + 3
<br>20
<br></font></tt></p>

<p>
In reality, the
addition has to happen before the printing, so the actions aren't 
actually happening at the same time. The point is that any
expression involving numbers, strings, and variables can be used inside a
print statement.  You've already seen an example of this:

<p><tt><font size=-1><font color=black>print</font> <font color=red>'Number of minutes since midnight: '</font>, hour*60+minute
<br></font></tt></p>

<p>
You can also put arbitrary expressions on the right-hand side of an
assignment statement:

<p><tt><font size=-1>percentage = (minute * 100) / 60
<br></font></tt></p>

<p>
This ability may not seem impressive now, but you will see other examples
where composition makes it possible to express complex computations neatly and
concisely.
<p>
Warning: There are limits on where you can use certain expressions.  For
example, the left-hand side of an assignment statement has to be a
<i>variable</i> name, not an expression.  So, the following is illegal:
<tt><font size=-1>minute+1 = hour</font></tt>.

<a name=10></a>
<h3>2.10 Comments</h3>
<p>
As programs get bigger and more complicated, they get more difficult to
read.  Formal languages are dense, and it is often difficult to look
at a piece of
code and figure out what it is doing, or why.
<p>
For this reason, it is a good idea to add notes to your programs to explain
in natural language what the program is doing.  These notes are called
<b>comments</b>, and they are marked with the <tt><font size=-1><font color=#009000>#</font></font></tt> symbol:

<p><tt><font size=-1><font color=#009000># compute the percentage of the hour that has elapsed
</font><br>percentage = (minute * 100) / 60
<br></font></tt></p>

<p>
In this case, the comment appears on a line by itself.  You can also put
comments at the end of a line:

<p><tt><font size=-1>percentage = (minute * 100) / 60&nbsp; &nbsp; &nbsp;<font color=#009000># caution: integer division
</font><br></font></tt></p>

<p>
Everything from the <tt><font size=-1><font color=#009000>#</font></font></tt> to the end of the line is ignored <s>&nbsp; &nbsp;</s> it
has no effect on the program.  The message is intended for the programmer or
for future programmers who might use this code.  In this case, it
reminds the reader about the ever-surprising behavior of integer division.
<p>
This sort of comment is less necessary if you use the integer division
operation, <tt><font size=-1>//</font></tt>.  It has the same effect as the division
operator <a href="javascript:fn('For now.  The behavior of the division operator may
change in future versions of Python.')">* Note</a>, but it signals that the effect
is deliberate.

<p><tt><font size=-1>percentage = (minute * 100) // 60 
<br></font></tt></p>

<p>
The integer division operator is like a comment that says, "I know
this is integer division, and I like it that way!"

<a name=11></a>
<h3>2.11 Glossary</h3>

<dl>
<dt>value</dt>
<dd>A number or string (or other thing to be named later)
that can be stored in a variable or computed in an expression.</dd>
<dt>type</dt>
<dd>A set of values.  The type of a value determines how
it can be used in expressions.  So far, the types you have seen are integers
(type <tt><font size=-1>int</font></tt>), floating-point numbers (type <tt><font size=-1>float</font></tt>),
and strings (type <tt><font size=-1>string</font></tt>).</dd>
<dt>floating-point</dt>
<dd>A format for representing numbers with fractional
parts.</dd>
<dt>variable</dt>
<dd>A name that refers to a value.</dd>
<dt>statement</dt>
<dd>A section of code that represents a command or action.  So
far, the statements you have seen are assignments and print statements.</dd>
<dt>assignment</dt>
<dd>A statement that assigns a value to a variable.</dd>
<dt>state diagram</dt>
<dd>A graphical representation of a set of variables and the
values to which they refer.</dd>
<dt>keyword</dt>
<dd>A reserved word that is used by the compiler to parse a
program; you cannot use keywords like <tt><font size=-1><font color=black>if</font></font></tt>, <tt><font size=-1><font color=black>def</font></font></tt>, and <tt><font size=-1><font color=black>while</font></font></tt> as
variable names.</dd>
<dt>operator</dt>
<dd>A special symbol that represents a simple computation like
addition, multiplication, or string concatenation.</dd>
<dt>operand</dt>
<dd>One of the values on which an operator operates.</dd>
<dt>expression</dt>
<dd>A combination of variables, operators, and values that
represents a single result value.</dd>
<dt>evaluate</dt>
<dd>To simplify an expression by performing the operations
in order to yield a single value.</dd>
<dt>integer division</dt>
<dd>An operation that divides one integer by
another and yields an integer.  Integer division yields only the
whole number of times that the numerator is divisible by the
denominator and discards any remainder.</dd>
<dt>rules of precedence</dt>
<dd>The set of rules governing the order in which
expressions involving multiple operators and operands are evaluated.</dd>
<dt>concatenate</dt>
<dd>To join two operands end-to-end.</dd>
<dt>composition</dt>
<dd>The ability to combine simple expressions and statements
into compound statements and expressions in order to represent complex
computations concisely.</dd>
<dt>comment</dt>
<dd>Information in a program that is meant for other
programmers (or anyone reading the source code) and has no effect on the
execution of the program.</dd>
</dl>

<p>
This is an older version of the book now known as <i>Think Python</i>.  You might prefer to <a href="../../../../greenteapress.com/wp/think-python-2e/index.html">read a more recent version</a>.


<hr>
<table width="100%" cellpadding="0" cellspacing="2" border="0">

  <tr>
    <td width="20"><a href="chap01.html"><img border="0" alt="Previous" src="images/prev.png"></a></td>
    <td width="20"><a href="index.html"><img border="0" alt="Up" src="images/up.png"></a></td>
    <td width="20"><a href="chap03.html"><img border="0" alt="Next" src="images/next.png"></a></td>
    <td center>How to Think Like a Computer Scientist</td>
    <td width="20"><a href="dex.html"><img border="0" alt="Index" src="images/index.png"></a></td>
  </tr>

</table>
<hr>


</td></tr>
</table>
</body>
</html>

