(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6983],{85375:function(e,t,n){"use strict";var i=n(90849),r=n(73679),o=n(73452),a=n(34896),l=n(29549),s=n(58981),c=n(60153),u=n(89871),d=n(58897),p=n(27378),f=n(43139),b=n(38687),v=n(24246);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.item,n=e.label,i=e.draggable,r=e.onDeleteItem,s=e.onRowClick,d=e.maxH,p=void 0===d?10:d,f=(0,c.o)();return(0,v.jsx)(u.t.Item,{value:t,dragListener:!1,dragControls:f,children:(0,v.jsxs)(a.kC,{direction:"row",gap:2,maxH:p,px:2,align:"center",role:"group",borderY:"1px",my:"-1px",borderColor:"gray.200",_hover:s?{bgColor:"gray.100"}:void 0,bgColor:"white",children:[i?(0,v.jsx)(o.VV,{onPointerDown:function(e){return f.start(e)},cursor:"grab"}):null,(0,v.jsx)(a.kC,{direction:"row",gap:2,p:2,align:"center",w:"full",cursor:s?"pointer":"auto",onClick:function(){s&&s(t)},children:(0,v.jsx)(a.xv,{fontSize:"sm",userSelect:"none",children:n})}),r?(0,v.jsx)(l.hU,{"aria-label":"Delete",onClick:function(){return r(t)},icon:(0,v.jsx)(o.pJ,{}),size:"xs",variant:"outline",bgColor:"white",visibility:"hidden",alignSelf:"end",mb:2,_groupHover:{visibility:"visible"}}):null]})})},g=function(e){var t=e.label,n=e.options,i=e.onOptionSelected,r=(0,p.useState)(!1),c=r[0],u=r[1],d=(0,p.useState)(void 0),b=d[0],_=d[1];return c?(0,v.jsx)(a.xu,{w:"full",children:(0,v.jsx)(s.Z,{chakraStyles:f.hP,size:"sm",value:b,options:n,onChange:function(e){return i(e),u(!1),void _(void 0)},autoFocus:!0,menuPlacement:"auto"})}):(0,v.jsx)(l.zx,{onClick:function(){return u(!0)},w:"full",size:"sm",variant:"outline",rightIcon:(0,v.jsx)(o.dt,{boxSize:3}),children:t})};t.Z=function(e){var t=e.label,n=e.tooltip,i=e.draggable,o=e.addButtonLabel,l=e.allItems,s=e.idField,c=e.nameField,p=void 0===c?s:c,_=e.values,y=e.setValues,j=e.canDeleteItem,x=e.onRowClick,O=e.selectOnAdd,C=e.getItemLabel,w=e.createNewValue,S=e.maxHeight,k=void 0===S?36:S,P=function(e){return e instanceof Object&&s&&s in e?e[s]:e},R=l.every((function(e){return"string"===typeof e}))?l.filter((function(e){return _.every((function(t){return t!==e}))})):l.filter((function(e){return _.every((function(t){return P(t)!==P(e)}))})),E=function(e){y(_.filter((function(t){return t!==e})).slice())},A=null!==C&&void 0!==C?C:function(e){return e instanceof Object&&s&&s in e?p&&p in e?e[p]:e[s]:e},D=function(e){var t=e instanceof Object&&s&&s in e?e[s]:e;return{label:A(e),value:t}},z=function(e){var t=w?w(e):function(e){return l.every((function(e){return"string"===typeof e}))?e.value:l.find((function(t){return t[s]===e.value}))}(e);y([t].concat((0,r.Z)(_.slice()))),O&&x&&x(t)},F={border:"1px",borderColor:"gray.200",borderRadius:"md",w:"full",overflowY:"scroll"},Z=i?(0,v.jsx)(a.xu,h(h({as:d.E.div,layoutScroll:!0},F),{},{children:(0,v.jsx)(u.t.Group,{values:_,onReorder:function(e){return y(e.slice())},children:_.map((function(e){return(0,v.jsx)(m,{item:e,label:A(e),onDeleteItem:!j||j&&j(e)?E:void 0,onRowClick:x,draggable:!0,maxH:k},P(e))}))})})):(0,v.jsx)(a.xu,h(h({},F),{},{children:(0,v.jsx)(a.aV,{children:_.map((function(e){return(0,v.jsx)(m,{item:e,label:A(e),onRowClick:x,onDeleteItem:E,maxH:k},P(e))}))})}));return _.length?(0,v.jsxs)(a.kC,{align:"start",direction:"column",w:"full",gap:4,children:[t?(0,v.jsx)(f.__,{htmlFor:"test",fontSize:"xs",my:0,mr:1,children:t}):null,n?(0,v.jsx)(b.Z,{label:n}):null,Z,R.length?(0,v.jsx)(g,{label:null!==o&&void 0!==o?o:"Add new",options:R.map((function(e){return D(e)})),onOptionSelected:z}):null]}):(0,v.jsx)(g,{label:null!==o&&void 0!==o?o:"Add new",options:R.map((function(e){return D(e)})),onOptionSelected:z})}},76281:function(e,t,n){"use strict";var i=n(60530),r=n(5008),o=n(29549),a=n(27378),l=n(24246);t.Z=function(e){var t=e.handleConfirm,n=e.isOpen,s=e.onClose,c=e.title,u=e.message,d=e.confirmButtonText,p=void 0===d?"Continue":d,f=e.cancelButtonText,b=void 0===f?"Cancel":f,v=(0,a.useRef)(null);return(0,l.jsx)(i.aR,{isOpen:n,leastDestructiveRef:v,onClose:s,children:(0,l.jsx)(i.dh,{children:(0,l.jsxs)(i._T,{alignItems:"center",textAlign:"center",children:[(0,l.jsx)(r.aN,{marginTop:3}),(0,l.jsx)(i.fY,{fontSize:"lg",fontWeight:"bold",children:c}),(0,l.jsx)(i.iP,{pt:0,children:u}),(0,l.jsxs)(i.xo,{children:[(0,l.jsx)(o.zx,{ref:v,onClick:s,variant:"outline",children:b}),(0,l.jsx)(o.zx,{colorScheme:"primary","data-testid":"warning-modal-confirm-btn",ml:3,onClick:function(){return t()},children:p})]})]})})})}},56069:function(e,t,n){"use strict";n.d(t,{R:function(){return v}});var i=n(90849),r=n(90089),o=n(34896),a=n(29549),l=n(73452),s=n(79894),c=n.n(s),u=n(24246),d=["backPath"],p=["onClick"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.onClick,n=(0,r.Z)(e,p);return(0,u.jsxs)(o.kC,b(b({alignItems:"center",mt:-4,mb:3,onClick:t,cursor:"pointer"},n),{},{children:[(0,u.jsx)(a.hU,{"aria-label":"Back",icon:(0,u.jsx)(l.Rp,{}),mr:2,size:"xs",variant:"outline"}),(0,u.jsx)(o.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})]}))};t.Z=function(e){var t=e.backPath,n=(0,r.Z)(e,d);return(0,u.jsxs)(o.kC,b(b({alignItems:"center",mb:6},n),{},{children:[(0,u.jsx)(c(),{href:t,passHref:!0,children:(0,u.jsx)(a.hU,{"aria-label":"Back",icon:(0,u.jsx)(l.Rp,{}),mr:2,size:"xs",variant:"outline"})}),(0,u.jsx)(c(),{href:t,passHref:!0,children:(0,u.jsx)(o.xv,{as:"a",fontSize:"sm",fontWeight:"500",children:"Back"})})]}))}},24753:function(e,t,n){"use strict";n.d(t,{MA:function(){return u},Vo:function(){return p},t5:function(){return d}});var i=n(90849),r=n(34896),o=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){var t=e.children;return(0,o.jsxs)(r.xv,{"data-testid":"toast-success-msg",children:[(0,o.jsx)("strong",{children:"Success:"})," ",t]})},c=function(e){var t=e.children;return(0,o.jsxs)(r.xv,{"data-testid":"toast-error-msg",children:[(0,o.jsx)("strong",{children:"Error:"})," ",t]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,o.jsx)(s,{children:e});return l(l({},u),{description:t})},p=function(e){var t=(0,o.jsx)(c,{children:e});return l(l({},u),{description:t,status:"error"})}},56983:function(e,t,n){"use strict";n.d(t,{Z:function(){return _e}});var i=n(90089),r=n(90849),o=n(55732),a=n(97865),l=n(34707),s=n.n(l),c=n(70409),u=n(34896),d=n(29549),p=n(34090),f=n(86677),b=n(27378),v=n(68301),_=n(6848),h=n(78624),m=n(13018),g=n(24246),y=(0,m.IU)({displayName:"DesktopIcon",viewBox:"0 0 24 24",path:(0,g.jsx)("path",{fill:"currentColor",d:"M20.5556 4.05556H3.44444C3.10833 4.05556 2.83333 4.33056 2.83333 4.66667V12H21.1667V4.66667C21.1667 4.33056 20.8917 4.05556 20.5556 4.05556ZM23 12V13.8333V15.6667C23 17.0149 21.9038 18.1111 20.5556 18.1111H14.9142L15.2198 19.9445H17.1944C17.7024 19.9445 18.1111 20.3531 18.1111 20.8611C18.1111 21.3691 17.7024 21.7778 17.1944 21.7778H14.4444H9.55556H6.80556C6.29757 21.7778 5.88889 21.3691 5.88889 20.8611C5.88889 20.3531 6.29757 19.9445 6.80556 19.9445H8.78021L9.08576 18.1111H3.44444C2.09618 18.1111 1 17.0149 1 15.6667V13.8333V12V4.66667C1 3.31841 2.09618 2.22223 3.44444 2.22223H20.5556C21.9038 2.22223 23 3.31841 23 4.66667V12ZM2.83333 13.8333V15.6667C2.83333 16.0028 3.10833 16.2778 3.44444 16.2778H10.1476C10.159 16.2778 10.1705 16.2778 10.1781 16.2778H13.8142C13.8257 16.2778 13.8372 16.2778 13.8448 16.2778H20.5556C20.8917 16.2778 21.1667 16.0028 21.1667 15.6667V13.8333H2.83333ZM10.6365 19.9445H13.3597L13.0542 18.1111H10.942L10.6365 19.9445Z"})}),j=(0,m.IU)({displayName:"MobileIcon",viewBox:"0 0 24 24",path:(0,g.jsx)("path",{fill:"currentColor",d:"M6.5 20.25C6.5 20.6281 6.80938 20.9375 7.1875 20.9375H16.8125C17.1906 20.9375 17.5 20.6281 17.5 20.25V16.8125H6.5V20.25ZM6.5 14.75H17.5V3.75C17.5 3.37188 17.1906 3.0625 16.8125 3.0625H7.1875C6.80938 3.0625 6.5 3.37188 6.5 3.75V14.75ZM4.4375 3.75C4.4375 2.2332 5.6707 1 7.1875 1H16.8125C18.3293 1 19.5625 2.2332 19.5625 3.75V20.25C19.5625 21.7668 18.3293 23 16.8125 23H7.1875C5.6707 23 4.4375 21.7668 4.4375 20.25V3.75ZM12 17.8438C12.2735 17.8438 12.5358 17.9524 12.7292 18.1458C12.9226 18.3392 13.0312 18.6015 13.0312 18.875C13.0312 19.1485 12.9226 19.4108 12.7292 19.6042C12.5358 19.7976 12.2735 19.9062 12 19.9062C11.7265 19.9062 11.4642 19.7976 11.2708 19.6042C11.0774 19.4108 10.9688 19.1485 10.9688 18.875C10.9688 18.6015 11.0774 18.3392 11.2708 18.1458C11.4642 17.9524 11.7265 17.8438 12 17.8438Z"})}),x=n(60709),O=n(24753),C=n(9865),w=["created_at","updated_at","privacy_notices","origin","id"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.filter((function(e){return e.selected})).map((function(e){return e.id})))&&void 0!==t?t:[]},R={name:"",disabled:!1,allow_language_selection:!1,regions:[],translations:[{language:C.eU.EN,is_default:!0,title:"Title",description:"Description",accept_button_label:"Accept",reject_button_label:"Reject",save_button_label:"Save",privacy_preferences_link_label:"Privacy Preferences"}]},E=function(e,t){var n=t.find((function(t){return t.id===e.language}));return n?n.name:e.language},A=n(49601),D=n(68135),z=n.n(D),F=n(43218),Z=n.n(F),q=["language","is_default"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={language:C.eU.EN,accept_button_label:"Accept",acknowledge_button_label:"OK",banner_description:"",banner_title:"",description:"Description",privacy_policy_link_label:"",privacy_policy_url:"",privacy_preferences_link_label:"Privacy preferences",reject_button_label:"Reject All",save_button_label:"Save",title:"Manage your consent preferences",is_default:!0},I=function(e){var t=(0,i.Z)(N,q),n=Object.keys(t).map((function(t){var n=e[t];return(0,r.Z)({},t,void 0!==n?n:N[t])})).reduce((function(e,t){return V(V({},e),t)}),{});return V({language:e.language,is_default:e.is_default},n)},L=n(15749),M=function(e){var t=e.title,n=e.description;return(0,g.jsx)(u.kC,{h:"full",justify:"center",align:"center",children:(0,g.jsxs)(u.kC,{bgColor:"white",borderRadius:"md",p:6,boxShadow:"md",direction:"column",align:"center",gap:"2",maxW:"512px",children:[(0,g.jsx)(u.xv,{fontSize:"lg",fontWeight:"500",align:"center",children:t}),(0,g.jsx)(u.xv,{color:"gray.500",align:"center",children:n})]})})},H=function(e){var t,n=e.allPrivacyNotices,i=e.initialValues,r=e.translation,l=e.isMobilePreview,d=(0,p.u6)().values,f=(0,b.useState)([]),v=f[0],_=f[1],m=(0,c.pm)(),y=(0,L.Je)(),j=(0,a.Z)(y,1)[0],x=function(){var e=(0,o.Z)(s().mark((function e(t){var n,i,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return(n=e.sent).isError&&(i=(0,h.e$)(n.error,"A problem occurred while fetching privacy notice data.  Some notices may not display correctly on the preview."),m({status:"error",description:i})),e.next=6,j(t);case 6:return r=e.sent,o=r.data,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,b.useEffect)((function(){d.privacy_notice_ids?Promise.all(d.privacy_notice_ids.map((function(e){return x(e)}))).then((function(e){return _(e.filter((function(e){return void 0!==e})))})):_([])}),[d.privacy_notice_ids]);var O=(0,b.useMemo)((function(){return function(e,t){var n,i,r;return{options:{debug:!0,geolocationApiUrl:"",isGeolocationEnabled:!1,isOverlayEnabled:!0,isPrefetchEnabled:!1,overlayParentId:"preview-container",modalLinkId:null,privacyCenterUrl:"http://localhost:3000",fidesApiUrl:"http://localhost:8080/api/v1",preventDismissal:null!==(n=e.dismissable)&&void 0!==n&&n,fidesPreviewMode:!0,allowHTMLDescription:!0,serverSideFidesApiUrl:"",fidesString:null,fidesJsBaseUrl:"",base64Cookie:!1,fidesLocale:null===(i=e.translations)||void 0===i?void 0:i[0].language},experience:{id:"pri_111",region:"us_ca",component:"banner_and_modal",experience_config:{id:"pri_222",regions:["us_ca"],component:"banner_and_modal",disabled:!1,is_default:!0,dismissable:e.dismissable,allow_language_selection:!0,auto_detect_language:!0,language:"en",translations:[(r=e,V(V({},N),r.translations?r.translations[0]:{}))]},privacy_notices:t},geolocation:{country:"US",location:"US-CA",region:"CA"}}}(i,v)}),[i,v]);(0,b.useEffect)((function(){var e,t;d.component===C.re.MODAL&&(O.experience.experience_config.component=C.re.MODAL);var n=null===(e=d.translations)||void 0===e?void 0:e.find((function(e){return e.language===(null===r||void 0===r?void 0:r.language)}));n?(O.experience.experience_config.translations[0]=I(n),O.options.fidesLocale=n.language):d.translations&&(O.experience.experience_config.translations[0]=I(d.translations[0]),O.options.fidesLocale=d.translations[0].language),O.options.preventDismissal=!d.dismissable,window.Fides&&null!==(t=d.privacy_notice_ids)&&void 0!==t&&t.length&&d.component!==C.re.PRIVACY_CENTER&&d.component!==C.re.TCF_OVERLAY&&window.Fides.init(O)}),[d,r,O,n]);var w=document.getElementById("fides-modal");return w&&w.removeAttribute("tabindex"),d.component===C.re.TCF_OVERLAY?(0,g.jsx)(M,{title:"TCF preview not available",description:"There is no preview available for TCF. You can edit the available settings and languages to the left."}):d.component===C.re.PRIVACY_CENTER?(0,g.jsx)(M,{title:"Privacy center preview not available",description:"There is no preview available for privacy center. You can edit the available settings and languages to the left."}):null!==(t=d.privacy_notice_ids)&&void 0!==t&&t.length?(0,g.jsxs)(u.kC,{h:"full",justify:"center",align:"center",overflow:"scroll",children:[(0,g.jsx)(z(),{id:"2250707344",children:["div#fides-overlay{z-index:5000 !important;}","div#preview-container{padding-top:45px;margin:auto !important;pointer-events:none;}","div#fides-banner-container{position:static !important;-webkit-transform:none !important;-ms-transform:none !important;transform:none !important;-webkit-transition:none !important;transition:none !important;}","div#fides-banner-container.fides-banner-hidden{display:none;}",".fides-modal-container{background-color:unset !important;position:static !important;display:none !important;}",".fides-modal-overlay{background-color:inherit !important;position:static !important;display:none !important;}","div.fides-modal-content{position:relative !important;-webkit-transform:none !important;-ms-transform:none !important;transform:none !important;left:initial !important;top:initial !important;}","div.fides-modal-footer{width:unset;}"]}),d.component===C.re.BANNER_AND_MODAL||d.component===C.re.MODAL?(0,g.jsx)("style",{children:"div#fides-modal {\n          display: flex !important;\n          justify-content: center;\n          background-color: unset;\n          ".concat(d.component===C.re.BANNER_AND_MODAL?"padding-top: 3rem; padding-bottom: 3rem;":"","\n        }")}):null,l?(0,g.jsx)("style",{children:"\n            div#preview-container {\n              width: 70% !important;\n            }\n            div.fides-modal-button-group {\n              flex-direction: column !important;\n            }\n            div#fides-modal {\n              width: 70% !important;\n              margin: auto;\n            }\n            "}):(0,g.jsx)("style",{children:"\n            div#fides-banner {\n              width: 90% !important;\n            }\n            "}),(0,g.jsx)(Z(),{id:"fides-js-base",src:"/lib/fides.js",onReady:function(){var e;d.component!==C.re.TCF_OVERLAY&&d.component!==C.re.PRIVACY_CENTER&&(null===(e=window.Fides)||void 0===e||e.init(O))}}),(0,g.jsx)("div",{id:"preview-container",className:"jsx-2250707344"})]}):(0,g.jsx)(M,{title:"No privacy notices added",description:'To view a preview of this experience, add a privacy notice under "Privacy Notices" to the left.'})},B=n(49841),Y=n(73679),U=n(21295),W=n(43139),J=n(56069),G=n(64429),X=n(85375),K=n(17165),$=n(31589),Q=[{label:"Banner and modal",value:C.re.BANNER_AND_MODAL},{label:"Modal",value:C.re.MODAL},{label:"Privacy center",value:C.re.PRIVACY_CENTER}],ee=function(e){var t=e.buttonPanel,n=e.children;return(0,g.jsxs)(u.kC,{direction:"column",minH:"full",w:"25%",borderRight:"1px solid #DEE5EE",children:[(0,g.jsx)(u.kC,{direction:"column",h:"full",overflowY:"scroll",px:4,children:(0,g.jsx)(u.kC,{direction:"column",gap:4,w:"full",pb:4,children:n})}),t]})},te=function(e){var t,n,i,r,o=e.allPrivacyNotices,a=e.onSelectTranslation,l=(0,f.useRouter)(),s=(0,b.useState)(!1),c=s[0],v=s[1],h=(0,p.u6)(),m=h.values,y=h.setFieldValue,j=h.dirty,O=h.isValid,w=h.isSubmitting,S=(0,_.C)(L.Zp),k=(0,_.C)(L.G1);(0,L.J6)({page:S,size:k});(0,K.QM)();var R=(0,_.C)(K.P8),E=[].concat((0,Y.Z)(P(R.locations)),(0,Y.Z)(P(R.location_groups))),D=(0,_.C)(A.fJ),z=(0,_.C)($.Zp),F=(0,_.C)($.G1);(0,$.gz)({page:z,size:F});var Z=(0,_.C)($.YO);if(c)return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.zx,{onClick:function(){return v(!1)},children:"Back to main form"}),(0,g.jsx)(u.xv,{children:"Editing experience style coming soon\u2122"})]});var q=(0,g.jsxs)(d.hE,{size:"sm",borderTop:"1px solid #DEE5EE",p:4,children:[(0,g.jsx)(d.zx,{variant:"outline",onClick:function(){return l.push(x.w0)},children:"Cancel"}),(0,g.jsx)(d.zx,{type:"submit",colorScheme:"primary","data-testid":"save-btn",isDisabled:w||!j||!O,isLoading:w,children:"Save"})]});return(0,g.jsxs)(ee,{buttonPanel:q,children:[(0,g.jsx)(J.Z,{backPath:x.w0,mt:4}),(0,g.jsx)(u.X6,{fontSize:"md",fontWeight:"semibold",children:"Configure experience"}),(0,g.jsx)(W.j0,{name:"name",id:"name",label:"Name (internal admin use only)",isRequired:!0,variant:"stacked"}),m.component!==C.re.TCF_OVERLAY?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(W.AP,{name:"component",id:"component",options:Q,label:"Experience Type",variant:"stacked",isDisabled:!!m.component,isRequired:!0}),(0,g.jsx)(U.UO,{in:m.component&&m.component!==C.re.PRIVACY_CENTER,animateOpacity:!0,children:(0,g.jsx)(u.xu,{p:"1px",children:(0,g.jsx)(W.w8,{name:"dismissable",id:"dismissable",label:"Modal is dismissable",variant:"stacked"})})})]}):null,(0,g.jsx)(X.Z,{label:"Associated properties",addButtonLabel:"Add property",idField:"id",nameField:"name",allItems:Z.map((function(e){return{id:e.id,name:e.name}})),values:null!==(t=m.properties)&&void 0!==t?t:[],setValues:function(e){return y("properties",e)},draggable:!0,maxHeight:100}),(0,g.jsx)(u.iz,{}),m.component!==C.re.TCF_OVERLAY?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.X6,{fontSize:"md",fontWeight:"semibold",children:"Privacy notices"}),(0,g.jsx)(X.Z,{addButtonLabel:"Add privacy notice",allItems:o.map((function(e){return e.id})),values:null!==(n=m.privacy_notice_ids)&&void 0!==n?n:[],setValues:function(e){return y("privacy_notice_ids",e)},getItemLabel:function(e){var t,n=o.find((function(t){return t.id===e}));return null!==(t=null===n||void 0===n?void 0:n.name)&&void 0!==t?t:e},draggable:!0}),(0,g.jsx)(u.iz,{})]}):null,(0,g.jsx)(u.xv,{as:"h2",fontWeight:"600",children:"Locations & Languages"}),(0,g.jsx)(X.Z,{label:"Locations for this experience",addButtonLabel:"Add location",allItems:E,values:null!==(i=m.regions)&&void 0!==i?i:[],setValues:function(e){return y("regions",e)},getItemLabel:function(e){return G.Z8[e]},draggable:!0}),(0,g.jsx)(X.Z,{label:"Languages for this experience",addButtonLabel:"Add language",values:null!==(r=m.translations)&&void 0!==r?r:[],setValues:function(e){return y("translations",e)},idField:"language",canDeleteItem:function(e){return!e.is_default},allItems:D.slice().sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return{language:e.id,is_default:!1}})),getItemLabel:function(e){var t=D.find((function(t){return t.id===e.language})),n=t?t.name:e.language;return"".concat(n).concat(e.is_default?" (Default)":"")},createNewValue:function(e){return{language:e.value,is_default:!1}},onRowClick:a,selectOnAdd:!0,draggable:!0}),(0,g.jsx)(W.w8,{name:"auto_detect_language",id:"auto_detect_language",label:"Auto detect language",variant:"stacked"})]})},ne=n(21084),ie=n(98784),re=n(76281),oe=["name"],ae=["translations"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(e){var t,n,r,o,a,l,s,c=e.translation,f=e.onReturnToMainForm,v=(0,p.u6)(),_=v.values,h=v.setFieldValue,m=v.errors,y=v.touched,j=v.setTouched,x=(0,b.useMemo)((function(){c.name;return(0,i.Z)(c,oe)}),[c]),O=!!x.title,w=(s=_.component)===C.re.PRIVACY_CENTER?{title:{included:!0,required:!0},description:{included:!0,required:!0},save_button_label:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0}}:s===C.re.MODAL?{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0}}:s===C.re.BANNER_AND_MODAL?{title:{included:!0,required:!0},banner_title:{included:!0},description:{included:!0,required:!0},banner_description:{included:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0}}:{title:{included:!0,required:!0},description:{included:!0,required:!0},accept_button_label:{included:!0,required:!0},reject_button_label:{included:!0,required:!0},save_button_label:{included:!0,required:!0},acknowledge_button_label:{included:!0,required:!0},privacy_policy_link_label:{included:!0},privacy_policy_url:{included:!0},privacy_preferences_link_label:{included:!0,required:!0}},S=_.translations.findIndex((function(e){return e.language===c.language})),k=!(0,ie.isEqual)(_.translations[S],x),P=(0,ne.qY)(),R=P.onOpen,E=P.isOpen,A=P.onClose,D=(0,ne.qY)(),z=D.onOpen,F=D.isOpen,Z=D.onClose,q=function(){k||!x.title?R():f()},T=(0,g.jsxs)(d.hE,{size:"sm",borderTop:"1px solid #DEE5EE",p:4,children:[(0,g.jsx)(d.zx,{variant:"outline",onClick:q,children:"Cancel"}),(0,g.jsx)(d.zx,{colorScheme:"primary",isDisabled:!k||!!m.translations,"data-testid":"save-btn",onClick:function(){_.translations[S].is_default&&!x.is_default?z():f()},children:O?"Save":"Add translation"})]});return(0,g.jsxs)(ee,{buttonPanel:T,children:[(0,g.jsx)(J.R,{onClick:q,mt:4}),(0,g.jsx)(re.Z,{isOpen:E,onClose:A,title:"Translation not saved",message:(0,g.jsx)(u.xv,{children:"You have unsaved changes to this translation. Discard changes?"}),confirmButtonText:"Discard",handleConfirm:function(){var e=_.translations.slice();O?e[S]=se(se({},x),{},{title:x.title,description:x.description}):e.splice(S,1),h("translations",e);y.translations;var t=(0,i.Z)(y,ae);j(se({},t)),f()}}),(0,g.jsx)(re.Z,{isOpen:F,onClose:Z,title:"Update default language",message:(0,g.jsx)(u.xv,{children:"Are you sure you want to update the default language of this experience?"}),handleConfirm:function(){return function(e){var t=_.translations.map((function(t,n){return se(se({},t),{},{is_default:n===e})}));t.unshift(t.splice(e,1)[0]),f()}(S)}}),(0,g.jsx)(u.X6,{fontSize:"md",fontWeight:"semibold",children:c.name}),(0,g.jsx)(W.w8,{name:"translations.".concat(S,".is_default"),id:"translations.".concat(S,".is_default"),label:"Default language",disabled:x.is_default,variant:"stacked"}),(0,g.jsx)(W.j0,{name:"translations.".concat(S,".title"),id:"translations.".concat(S,".title"),label:"Title",isRequired:!0,variant:"stacked"}),(0,g.jsx)(W.Ks,{name:"translations.".concat(S,".description"),id:"translations.".concat(S,".description"),label:"Description",isRequired:!0,variant:"stacked"}),_.component===C.re.BANNER_AND_MODAL||_.component===C.re.TCF_OVERLAY?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(W.j0,{name:"translations.".concat(S,".banner_title"),id:"translations.".concat(S,".banner_title"),label:"Banner title (optional)",tooltip:"A separate title for the banner (defaults to main title)",variant:"stacked"}),(0,g.jsx)(W.Ks,{name:"translations.".concat(S,".banner_description"),id:"translations.".concat(S,".banner_description"),label:"Banner description (optional)",tooltip:"A separate description for the banner (defaults to main description)",variant:"stacked"})]}):null,(0,g.jsx)(W.j0,{name:"translations.".concat(S,".accept_button_label"),id:"translations.".concat(S,".accept_button_label"),label:'"Accept" button label',isRequired:!0,variant:"stacked"}),(0,g.jsx)(W.j0,{name:"translations.".concat(S,".reject_button_label"),id:"translations.".concat(S,".reject_button_label"),label:'"Reject" button label',isRequired:!0,variant:"stacked"}),null!==(t=w.privacy_preferences_link_label)&&void 0!==t&&t.included?(0,g.jsx)(W.j0,{name:"translations.".concat(S,".privacy_preferences_link_label"),id:"translations.".concat(S,".privacy_preferences_link_label"),label:'"Manage privacy preferences" button label',variant:"stacked",isRequired:null===(n=w.privacy_preferences_link_label)||void 0===n?void 0:n.required}):null,null!==(r=w.save_button_label)&&void 0!==r&&r.included?(0,g.jsx)(W.j0,{name:"translations.".concat(S,".save_button_label"),id:"translations.".concat(S,".save_button_label"),label:'"Save" button label',variant:"stacked",isRequired:w.save_button_label.required}):null,null!==(o=w.acknowledge_button_label)&&void 0!==o&&o.included?(0,g.jsx)(W.j0,{name:"translations.".concat(S,".acknowledge_button_label"),id:"translations.".concat(S,".acknowledge_button_label"),label:'"Acknowledge" button label',variant:"stacked",isRequired:w.acknowledge_button_label.required}):null,null!==(a=w.privacy_policy_link_label)&&void 0!==a&&a.included?(0,g.jsx)(W.j0,{name:"translations.".concat(S,".privacy_policy_link_label"),id:"translations.".concat(S,".privacy_policy_link_label"),label:"Privacy policy link label (optional)",variant:"stacked"}):null,null!==(l=w.privacy_policy_url)&&void 0!==l&&l.included?(0,g.jsx)(W.j0,{name:"translations.".concat(S,".privacy_policy_url"),id:"translations.".concat(S,".privacy_policy_url"),label:"Privacy policy link URL (optional)",variant:"stacked"}):null]})},ue=n(33167),de=["component"];function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be=function(e){return v.Ry().shape({title:v.Z_().required().label("Title"),description:v.Z_().required().label("Description"),accept_button_label:v.Z_().required().label("Accept button label"),reject_button_label:v.Z_().required().label("Reject button label"),save_button_label:v.Z_().required().label("Save button label"),acknowledge_button_label:v.Z_().required().label("Acknowledge button label"),privacy_policy_url:v.Z_().url().nullable(),is_default:v.O7(),privacy_preferences_link_label:e?v.Z_().required().label("Privacy preferences link label"):v.Z_().label("Privacy preferences link label")})},ve=v.Ry().shape({name:v.Z_().required().label("Experience name"),component:v.Z_().required().label("Experience type"),translations:v.IX().when("component",{is:function(e){return e===C.re.BANNER_AND_MODAL||e===C.re.TCF_OVERLAY},then:function(e){return e.of(be(!0))},otherwise:function(e){return e.of(be(!1))}})}),_e=function(e){var t=e.passedInExperience,n=(0,B.mJ)(),r=(0,a.Z)(n,1)[0],l=(0,B.$d)(),v=(0,a.Z)(l,1)[0],m=(0,c.pm)(),C=(0,b.useState)(!1),S=C[0],P=C[1],D=(0,f.useRouter)(),z=(0,_.C)(A.Zp),F=(0,_.C)(A.G1);(0,A.Ah)({page:z,size:F});var Z=(0,_.C)(A.fJ),q=(0,_.C)(L.sX),T=t?function(e){e.created_at,e.updated_at;var t=e.privacy_notices;return e.origin,e.id,k(k({},(0,i.Z)(e,w)),{},{privacy_notice_ids:t?t.map((function(e){return e.id})):[],translations:e.translations?e.translations.map((function(e){return function(e){var t,n,i,r,o,a,l;return{language:e.language,is_default:e.is_default,accept_button_label:e.accept_button_label,reject_button_label:e.reject_button_label,title:e.title,description:e.description,acknowledge_button_label:null!==(t=e.acknowledge_button_label)&&void 0!==t?t:void 0,banner_title:null!==(n=e.banner_title)&&void 0!==n?n:void 0,banner_description:null!==(i=e.banner_description)&&void 0!==i?i:void 0,privacy_policy_link_label:null!==(r=e.privacy_policy_link_label)&&void 0!==r?r:void 0,privacy_policy_url:null!==(o=e.privacy_policy_url)&&void 0!==o?o:void 0,privacy_preferences_link_label:null!==(a=e.privacy_preferences_link_label)&&void 0!==a?a:void 0,save_button_label:null!==(l=e.save_button_label)&&void 0!==l?l:void 0}}(e)})):[]})}(t):R,V=function(){var e=(0,o.Z)(s().mark((function e(n){var o,a,l,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=fe(fe({},n),{},{disabled:null===(o=null===t||void 0===t?void 0:t.disabled)||void 0===o||o,allow_language_selection:n.translations&&n.translations.length>1}),t){e.next=7;break}return e.next=4,r(a);case 4:l=e.sent,e.next=11;break;case 7:return a.component,c=(0,i.Z)(a,de),e.next=10,v(fe(fe({},c),{},{id:t.id}));case 10:l=e.sent;case 11:(0,ue.isErrorResult)(l)?m((0,O.Vo)((0,h.e$)(l.error))):(m((0,O.t5)("Privacy experience successfully ".concat(t?"updated":"created"))),D.push(x.w0));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(0,b.useState)(void 0),I=N[0],M=N[1];return(0,g.jsx)(p.J9,{initialValues:T,enableReinitialize:!0,onSubmit:V,validationSchema:ve,children:(0,g.jsx)(p.l0,{style:{height:"100vh"},children:(0,g.jsxs)(u.kC,{w:"full",h:"full",direction:"row","data-testid":"privacy-experience-detail-page",children:[I?(0,g.jsx)(ce,{translation:I,onReturnToMainForm:function(){return M(void 0)}}):(0,g.jsx)(te,{allPrivacyNotices:q,onSelectTranslation:function(e){M(fe(fe({},e),{},{name:E(e,Z)}))}}),(0,g.jsxs)(u.kC,{direction:"column",w:"75%",bgColor:"gray.50",overflowY:"hidden",children:[(0,g.jsxs)(u.kC,{direction:"row",p:4,align:"center",bgColor:"white",borderBottom:"1px solid #DEE5EE",children:[(0,g.jsx)(u.xv,{fontSize:"md",fontWeight:"semibold",children:"PREVIEW"}),(0,g.jsx)(u.LZ,{}),(0,g.jsxs)(d.hE,{size:"sm",variant:"outline",isAttached:!0,children:[(0,g.jsx)(d.hU,{icon:(0,g.jsx)(j,{}),"aria-label":"View mobile preview",onClick:function(){return P(!0)},bgColor:S?"gray.200":void 0}),(0,g.jsx)(d.hU,{icon:(0,g.jsx)(y,{}),"aria-label":"View desktop preview",onClick:function(){return P(!1)},bgColor:S?void 0:"gray.200"})]})]}),(0,g.jsx)(H,{allPrivacyNotices:q,initialValues:T,translation:I,isMobilePreview:S})]})]})})})}},33167:function(e,t,n){"use strict";n.d(t,{isAPIError:function(){return i.Bw},isErrorResult:function(){return i.D4}});var i=n(60041)},28186:function(e,t,n){var i=n(27061),r=n(27378);function o(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var a=o(r);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s="undefined"!==typeof i&&i.env&&!0,c=function(e){return"[object String]"===Object.prototype.toString.call(e)},u=function(){function e(e){var t=void 0===e?{}:e,n=t.name,i=void 0===n?"stylesheet":n,r=t.optimizeForSpeed,o=void 0===r?s:r;d(c(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",d("boolean"===typeof o,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=o,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var a=document.querySelector('meta[property="csp-nonce"]');this._nonce=a?a.getAttribute("content"):null}var t,n,i,r=e.prototype;return r.setOptimizeForSpeed=function(e){d("boolean"===typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(s||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"===typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(d(c(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var n=this.getSheet();"number"!==typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(r){return s||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed){var n=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(r){s||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];d(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},r.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach((function(e){return e&&e.parentNode.removeChild(e)})),this._tags=[]},r.cssRules=function(){var e=this;return this._tags.reduce((function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,(function(t){return t.cssText===e._deletedRulePlaceholder?null:t}))):t.push(null),t}),[])},r.makeStyleTag=function(e,t,n){t&&d(c(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return n?r.insertBefore(i,n):r.appendChild(i),i},t=e,(n=[{key:"length",get:function(){return this._rulesCount}}])&&l(t.prototype,n),i&&l(t,i),e}();function d(e,t){if(!e)throw new Error("StyleSheet: "+t+".")}var p=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},f={};function b(e,t){if(!t)return"jsx-"+e;var n=String(t),i=e+n;return f[i]||(f[i]="jsx-"+p(e+"-"+n)),f[i]}function v(e,t){var n=e+t;return f[n]||(f[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),f[n]}var _=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,i=void 0===n?null:n,r=t.optimizeForSpeed,o=void 0!==r&&r;this._sheet=i||new u({name:"styled-jsx",optimizeForSpeed:o}),this._sheet.inject(),i&&"boolean"===typeof o&&(this._sheet.setOptimizeForSpeed(o),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce((function(e,t){return e[t]=0,e}),{}));var n=this.getIdAndRules(e),i=n.styleId,r=n.rules;if(i in this._instancesCounts)this._instancesCounts[i]+=1;else{var o=r.map((function(e){return t._sheet.insertRule(e)})).filter((function(e){return-1!==e}));this._indices[i]=o,this._instancesCounts[i]=1}},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw new Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var i=this._fromServer&&this._fromServer[n];i?(i.parentNode.removeChild(i),delete this._fromServer[n]):(this._indices[n].forEach((function(e){return t._sheet.deleteRule(e)})),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map((function(t){return[t,e._fromServer[t]]})):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map((function(t){return[t,e._indices[t].map((function(e){return n[e].cssText})).join(e._optimizeForSpeed?"":"\n")]})).filter((function(e){return Boolean(e[1])})))},t.styles=function(e){return function(e,t){return void 0===t&&(t={}),e.map((function(e){var n=e[0],i=e[1];return a.default.createElement("style",{id:"__"+n,key:"__"+n,nonce:t.nonce?t.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})}))}(this.cssRules(),e)},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,i=e.id;if(n){var r=b(i,n);return{styleId:r,rules:Array.isArray(t)?t.map((function(e){return v(r,e)})):[v(r,t)]}}return{styleId:b(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce((function(e,t){return e[t.id.slice(2)]=t,e}),{})},e}();var h=r.createContext(null);function m(){return new _}function g(){return r.useContext(h)}h.displayName="StyleSheetContext";var y=a.default.useInsertionEffect||a.default.useLayoutEffect,j=m();function x(e){var t=j||g();return t?(y((function(){return t.add(e),function(){t.remove(e)}}),[e.id,String(e.dynamic)]),null):null}x.dynamic=function(e){return e.map((function(e){return b(e[0],e[1])})).join(" ")},t.style=x},68135:function(e,t,n){e.exports=n(28186).style},43218:function(e,t,n){e.exports=n(22203)}}]);