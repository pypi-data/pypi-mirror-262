[build-system]
requires = ["hatchling", "hatch-build-scripts"]
build-backend = "hatchling.build"

[project]
name = "jp2rt"
dynamic = ["version"]
description = "A Java and Python package for Predicting Retention Times"
readme = "README.md"
requires-python = ">=3.10"
license = "MIT"
keywords = []
authors = [
  { name = "Massimo Santini", email = "santini@di.unimi.it" },
]
classifiers = [
  "Development Status :: 4 - Beta",
  "Programming Language :: Python",
  "Programming Language :: Python :: 3.10",
  "Programming Language :: Python :: 3.11",
  "Programming Language :: Python :: 3.12",
]
dependencies = [
  "click==8.1.7",
  "joblib==1.3.2",
  "numpy==1.26.4",
  "packaging==24.0",
  "scikit-learn==1.4.1.post1",
  "scyjava==1.9.1",
]

[project.scripts]
jp2rt = "jp2rt.scripts:cli"

[project.urls]
Documentation = "https://github.com/unknown/my-prj#readme"
Issues = "https://github.com/unknown/my-prj/issues"
Source = "https://github.com/unknown/my-prj"

[tool.hatch.build]
sources = ["python"]
include = ["python/jp2rt/*.py"]

[tool.hatch.build.targets.sdist]
sources = ["."]
include = ["python/**/*.py", "notebooks/*.ipynb", "java/src", "java/build.grade", "java/gradle*"]

[tool.hatch.version]
path = "python/jp2rt/__init__.py"

[[tool.hatch.envs.all.matrix]]
python = ["3.10", "3.11", "3.12"]

[[tool.hatch.build.targets.wheel.hooks.build-scripts.scripts]]
out_dir = "python/jp2rt"
commands = [
    "./gradlew clean shadowjar",
    "cp java/build/libs/jp2rt-all.jar lib.jar",
]
artifacts = [
    "lib.jar",
]
